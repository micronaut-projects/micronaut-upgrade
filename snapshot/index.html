<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1'/>
    <title>Micronaut Upgrade</title>
    <link rel='stylesheet' id='wp-block-library-css' href='https://micronaut.io/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all'/>
    <link rel='stylesheet' id='fonts-fira-sans-css' href='https://fonts.googleapis.com/css2?family=Fira+Sans%3Awght%40300%3B500&#038;display=swap&#038;ver=5.7' type='text/css' media='all'/>
    <link rel='stylesheet' id='micronaut-style-css' href='https://micronaut.io/wp-content/themes/micronaut/style.min.css' type='text/css' media='all'/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="https://micronaut.io/wp-content/uploads/2021/02/favicon.ico" type="image/png">
    <link rel="shortcut icon" href="https://micronaut.io/wp-content/uploads/2021/02/favicon.ico" type="image/png">
    <link rel="stylesheet" href="css/multi-lang-sample.css">
    <link rel="stylesheet" href="css/guide.css" />
    <link rel="stylesheet" href="css/highlight.css" />
    <script src="highlight/highlight.min.js"></script>
    <script src="js/multi-lang-sample.js"></script>
</head>
<body class="page-template page-template-page-sidebar page-template-page-sidebar-php page page-parent guide">

<header id="header">

    <div class="container">

        <nav class="navbar navbar-expand-lg navbar-dark">

            <button class="collapsed" type="button" data-toggle="collapse" data-target="#nav" aria-expanded="false">
                <span></span>
            </button>

            <a class="navbar-brand" href="https://micronaut.io">
                <img src="https://micronaut.io/wp-content/uploads/2020/11/MIcronautLogo_Horizontal.svg" alt="Micronaut framework"/>
            </a>

        </nav>

    </div>
</header>
<main id="main">
    <div class="container">
        <div class="row">
            <div class="col-md-3">

                <div class="toc">
                    <div class="inner">
                        <h1 class="title title_large first-word-bold first-word-break">Table of Contents</h1>
                        <div class="underline"></div>
                        <ul class="sectlevel1">
<li><a href="#_micronaut_framework_3_9_0">Micronaut Framework 3.9.0</a>
<ul class="sectlevel2">
<li><a href="#_3_9_0_breaking_changes">3.9.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_8_7">Micronaut Framework 3.8.7</a>
<ul class="sectlevel2">
<li><a href="#_3_8_7_breaking_changes">3.8.7 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_8_0">Micronaut Framework 3.8.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_8_0">What&#8217;s new with 3.8.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_7_0">Micronaut Framework 3.7.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_7_0">What&#8217;s new with 3.7.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_6_0">Micronaut Framework 3.6.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_6_0">What&#8217;s new with 3.6.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_5_0">Micronaut Framework 3.5.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_5_0">What&#8217;s new with 3.5.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_4_0">Micronaut Framework 3.4.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_4_0">What&#8217;s new with 3.4.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_3_0">Micronaut Framework 3.3.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_3_0">What&#8217;s new with 3.3.0</a></li>
<li><a href="#_3_3_0_breaking_changes">3.3.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_2_4">Micronaut Framework 3.2.4</a>
<ul class="sectlevel2">
<li><a href="#_3_2_4_breaking_changes">3.2.4 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_2_0">Micronaut Framework 3.2.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_2_0">What&#8217;s new with 3.2.0</a></li>
<li><a href="#_3_2_0_breaking_changes">3.2.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_1_0">Micronaut Framework 3.1.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_1_0">What&#8217;s new with 3.1.0</a></li>
<li><a href="#_3_1_0_breaking_changes">3.1.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_3_0_0">Micronaut Framework 3.0.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_3_0_0">What&#8217;s new with 3.0.0</a></li>
<li><a href="#_3_0_0_breaking_changes">3.0.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_5_0">Micronaut Framework 2.5.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_5_0">What&#8217;s new with 2.5.0</a></li>
<li><a href="#_2_5_0_breaking_changes">2.5.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_4_0">Micronaut Framework 2.4.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_4_0">What&#8217;s new with 2.4.0</a></li>
<li><a href="#_2_4_0_breaking_changes">2.4.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_3_0">Micronaut Framework 2.3.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_3_0">What&#8217;s new with 2.3.0</a></li>
<li><a href="#_2_3_0_breaking_changes">2.3.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_2_0">Micronaut Framework 2.2.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_2_0">What&#8217;s new with 2.2.0</a></li>
<li><a href="#_2_2_0_breaking_changes">2.2.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_1_0">Micronaut Framework 2.1.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_1_0">What&#8217;s new with 2.1.0</a></li>
<li><a href="#_dependency_upgrades_6">Dependency Upgrades</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_2_0_0">Micronaut Framework 2.0.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_2_0_0">What&#8217;s new with 2.0.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_1_3_0">Micronaut Framework 1.3.0</a>
<ul class="sectlevel2">
<li><a href="#_1_3_0_breaking_changes">1.3.0 Breaking Changes</a></li>
<li><a href="#_whats_new_with_1_3_0">What&#8217;s new with 1.3.0</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_1_2_9">Micronaut Framework 1.2.9</a>
<ul class="sectlevel2">
<li><a href="#_1_2_9_breaking_changes">1.2.9 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_1_2_0">Micronaut Framework 1.2.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_1_2_0">What&#8217;s new with 1.2.0</a></li>
<li><a href="#_1_2_0_breaking_changes">1.2.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_1_1_0">Micronaut Framework 1.1.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_1_1_0">What&#8217;s new with 1.1.0</a></li>
<li><a href="#_1_1_0_breaking_changes">1.1.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_micronaut_framework_1_0_0">Micronaut Framework 1.0.0</a>
<ul class="sectlevel2">
<li><a href="#_whats_new_with_1_0_0">What&#8217;s new with 1.0.0</a></li>
<li><a href="#_1_0_0_breaking_changes">1.0.0 Breaking Changes</a></li>
</ul>
</li>
<li><a href="#_repository">Repository</a></li>
</ul>

                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <h1>Micronaut Upgrade</h1>
                <div class="underline"></div>
<div class="sect1">
<div class="sectionbody">

<div class="sect2">
<h3 id="_3_9_0_breaking_changes"><a class="anchor" href="#_3_9_0_breaking_changes"></a>3.9.0 Breaking Changes</h3>
<div class="paragraph">
<p>Since Micronaut Framework 3.9.0, CORS <code>allowed-origins</code> configuration does not support regular expressions to prevent accidentally exposing your API. You can use <code>allowed-origins-regex</code>, if you wish to support a regular expression.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_8_7"><a class="anchor" href="#_micronaut_framework_3_8_7"></a>Micronaut Framework 3.8.7</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_8_7_breaking_changes"><a class="anchor" href="#_3_8_7_breaking_changes"></a>3.8.7 Breaking Changes</h3>
<div class="paragraph">
<p>Micronaut Framework 3.8.7 updates to <a href="https://bitbucket.org/snakeyaml/snakeyaml/wiki/Changes">SnakeYAML 2.0</a> which addresses <a href="https://nvd.nist.gov/vuln/detail/CVE-2022-1471">CVE-2022-1471</a>. Many organizations' policies forbid their teams to use Micronaut Framework if the framework depends on a vulnerable dependency, even if the framework is unaffected. Micronaut Framework is not affected by <a href="https://nvd.nist.gov/vuln/detail/CVE-2022-1471">CVE-2022-1471</a>.
Micronaut Framework uses SnakeYAML to load configuration in Micronaut applications. There is only one instance of <a href="https://github.com/micronaut-projects/micronaut-core/blob/3.7.x/inject/src/main/java/io/micronaut/context/env/yaml/YamlPropertySourceLoader.java#L56">SnakeYAML instantiation</a> which uses the <a href="https://github.com/micronaut-projects/micronaut-core/blob/3.8.x/inject/src/main/java/io/micronaut/context/env/yaml/CustomSafeConstructor.java">Safe Constructor</a>. Using SnakeYaml&#8217;s SafeConstructor which is the recommended way to prevent this issue:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>We recommend using SnakeYaml&#8217;s SafeConsturctor when parsing untrusted content to restrict deserialization.</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_8_0"><a class="anchor" href="#_micronaut_framework_3_8_0"></a>Micronaut Framework 3.8.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_8_0"><a class="anchor" href="#_whats_new_with_3_8_0"></a>What&#8217;s new with 3.8.0</h3>
<div class="paragraph">
<p>Key features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.graalvm.org/release-notes/22_3/">GraalVM 22.3 Support</a></p>
</li>
<li>
<p>With Micronaut <code>3.8.0</code>, you can use <code>@RequestBean</code> annotations with <a href="https://docs.oracle.com/en/java/javase/14/language/records.html">Records</a>. Before <code>3.8.0</code>, you could use a POJO as a controller method parameter and annotate the parameter with <code>@RequestBean</code> to bind any Bindable value (e.g., <code>HttpRequest</code>, <code>@PathVariable</code>, <code>@QueryValue</code> or <code>@Header</code> fields).</p>
</li>
<li>
<p>If you enable CORS from any origin while running your app in localhost (e.g., test or development), since <code>3.8.0</code>, the <code>CorsFilter</code> returns 403 for non-localhost origins to protect you against drive-by localhost attacks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please read the <a href="https://micronaut.io/2022/12/27/micronaut-framework-3-8-0-released/">Micronaut Framework 3.8.0 announcement blog post</a>. You will find a detailed overview of what’s new in Micronaut 3.8.0.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_7_0"><a class="anchor" href="#_micronaut_framework_3_7_0"></a>Micronaut Framework 3.7.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_7_0"><a class="anchor" href="#_whats_new_with_3_7_0"></a>What&#8217;s new with 3.7.0</h3>
<div class="paragraph">
<p>Several improvements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you want complete control of where your application loads configuration from, for example, due to security restrictions, you can disable the default <a href="https://docs.micronaut.io/snapshot/guide/#propertySource"><code>PropertySourceLoader</code></a> implementations by calling <code>ApplicationContextBuilder::enableDefaultPropertySources(false)</code> when starting your application.</p>
</li>
<li>
<p>Better <code>java.time</code> conversion for YAML configuration</p>
</li>
<li>
<p>Client SSL inner configuration is <a href="https://docs.micronaut.io/latest/guide/#bootstrap">Bootstrap</a> context compatible.</p>
</li>
<li>
<p><a href="https://docs.micronaut.io/snapshot/api/io/micronaut/http/uri/UriBuilder.html"><code>UriBuilder</code></a> methods <code>queryParam</code> and <code>replaceQueryParam</code> ignore null values.</p>
</li>
<li>
<p>It is possible to stop the Netty server without stopping the Application context.</p>
</li>
<li>
<p>You can declare beans at runtime using interfaces.</p>
</li>
<li>
<p>You can mark static methods as <code>@Executable</code>.</p>
</li>
<li>
<p>A big HTTP client refactor.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Spring integration improvements</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-spring/latest/guide/">Micronaut Spring</a> contains improvements for developers who want to use Micronaut modules with a Spring application or consume Spring libraries from a Micronaut application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>New modules</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-object-storage/latest/guide/">Object Storage</a>.</p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-crac/latest/guide/">Micronaut CRaC</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please read the <a href="https://micronaut.io/2022/09/21/micronaut-framework-3-7-0-released/">Micronaut Framework 3.7.0 announcement blog post</a>. You will find a detailed overview of what’s new in Micronaut 3.7.0.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_6_0"><a class="anchor" href="#_micronaut_framework_3_6_0"></a>Micronaut Framework 3.6.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_6_0"><a class="anchor" href="#_whats_new_with_3_6_0"></a>What&#8217;s new with 3.6.0</h3>
<div class="paragraph">
<p>Key features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-test-resources/latest/guide/#introduction">Test Resources</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-sql/latest/guide/#hibernate-reactive">Hibernate Reactive</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-tracing/latest/guide/#opentelemetry">OpenTelemetry</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-azure/latest/guide/#azureKeyVault">Azure Vault</a></p>
</li>
<li>
<p><a href="https://www.graalvm.org/release-notes/22_2/">GraalVM 22.2 Support</a></p>
</li>
<li>
<p><a href="https://nubesgen.com/">NubesGen integration</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please read the <a href="https://micronaut.io/2022/08/04/micronaut-framework-3-6-0-released/">Micronaut Framework 3.6.0 announcement blog post</a>. You will find a detailed overview of what’s new in Micronaut 3.6.0.</p>
</div>
<div class="paragraph">
<p>Micronaut Core features:</p>
</div>
<div class="sect3">
<h4 id="_dont_apply_a_filter_for_services"><a class="anchor" href="#_dont_apply_a_filter_for_services"></a>Don&#8217;t apply a @Filter for services</h4>
<div class="paragraph">
<p>It is possible to exclude services from an HTTP Client Filter with the member <code>excludeServiceId</code> of <code>@Filter.</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Filter(patterns = '/**', excludeServiceId = 'authClient')
public class AppHttpClientFilter implements HttpClientFilter {</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_netty_runtime"><a class="anchor" href="#_netty_runtime"></a>Netty runtime</h4>
<div class="paragraph">
<p>This version upgrades <a href="https://netty.io">Netty</a> from 4.1.77 to 4.1.79. Moreover, it contains improvements to the API to <a href="https://docs.micronaut.io/snapshot/guide/#nettyClientPipeline">configure the Netty Client Pipeline</a> and to <a href="https://docs.micronaut.io/snapshot/guide/#nettyServerPipeline">configure the Netty Server Pipeline</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_improvements_to_httpclientexception"><a class="anchor" href="#_improvements_to_httpclientexception"></a>Improvements to HttpClientException</h4>
<div class="paragraph">
<p>If present a <code>serviceId</code> field is populated in the <code>HttpClientException</code> and shown in the exception message.</p>
</div>
</div>
<div class="sect3">
<h4 id="_modules_upgrades"><a class="anchor" href="#_modules_upgrades"></a>Modules Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut AWS 3.5.3 to 3.7.0</p>
</li>
<li>
<p>Micronaut Azure 3.2.3 to 3.3.0</p>
</li>
<li>
<p>Micronaut Cache 3.4.1 to 3.5.0</p>
</li>
<li>
<p>Micronaut Cassandra 4.0.0 to 5.1.1</p>
</li>
<li>
<p>Micronaut Coherence 3.4.1 to 3.5.1</p>
</li>
<li>
<p>Micronaut Data 3.4.3 to 3.7.2</p>
</li>
<li>
<p>Micronaut Elasticsearch 4.2.0 to 4.3.0</p>
</li>
<li>
<p>Micronaut Email 1.2.3 to 1.3.1</p>
</li>
<li>
<p>Micronaut Flyway 5.3.0 to 5.4.0</p>
</li>
<li>
<p>Micronaut GCP 4.2.1 to 4.4.0</p>
</li>
<li>
<p>Micronaut GraphQL 3.0.0 to 3.1.0</p>
</li>
<li>
<p>Micronaut Groovy 3.1.0 to 3.2.0</p>
</li>
<li>
<p>Micronaut JaxRS 3.3.0 to 3.4.0</p>
</li>
<li>
<p>Micronaut JMX 3.0.0 to 3.1.0</p>
</li>
<li>
<p>Micronaut Kafka 4.3.1 to 4.4.0</p>
</li>
<li>
<p>Micronaut Micrometer 4.3.0 to 4.4.0</p>
</li>
<li>
<p>Micronaut Microstream 1.0.0-M1 to 1.0.0</p>
</li>
<li>
<p>Micronaut Liquibase 5.3.0 to 5.4.1</p>
</li>
<li>
<p>Micronaut Mongo 4.2.0 to 4.4.0</p>
</li>
<li>
<p>Micronaut Neo4J 5.0.0 to 5.1.0</p>
</li>
<li>
<p>Micronaut Nats 3.0.0 to 3.1.0</p>
</li>
<li>
<p>Micronaut OpenAPI 4.2.2 to 4.4.3</p>
</li>
<li>
<p>Micronaut Picocli 4.2.1 to 4.3.0</p>
</li>
<li>
<p>Micronaut Problem 2.3.1 to 2.4.0</p>
</li>
<li>
<p>Micronaut RabbitMQ 3.1.0 to 3.3.0</p>
</li>
<li>
<p>Micronaut R2DBC 3.0.0 to 3.0.1</p>
</li>
<li>
<p>Micronaut Reactor 2.2.3 to 2.3.1</p>
</li>
<li>
<p>Micronaut Redis 5.2.0 to 5.3.0</p>
</li>
<li>
<p>Micronaut RxJava3 2.2.1 to 2.3.0</p>
</li>
<li>
<p>Micronaut Serialization 1.1.1 to 1.3.0</p>
</li>
<li>
<p>Micronaut Servlet 3.2.3 to 3.3.0</p>
</li>
<li>
<p>Micronaut Spring 4.1.1 to 4.2.1</p>
</li>
<li>
<p>Micronaut SQL 4.4.1 to 4.6.3</p>
</li>
<li>
<p>Micronaut Test 3.3.1 to 3.4.0</p>
</li>
<li>
<p>Micronaut TOML 1.0.0 to 1.1.1</p>
</li>
<li>
<p>Micronaut Tracing 4.1.1 to 4.2.1</p>
</li>
<li>
<p>Micronaut Views 3.4.0 to 3.5.0</p>
</li>
<li>
<p>Micronaut Jackson XML 3.0.1 to 3.1.0</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_5_0"><a class="anchor" href="#_micronaut_framework_3_5_0"></a>Micronaut Framework 3.5.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_5_0"><a class="anchor" href="#_whats_new_with_3_5_0"></a>What&#8217;s new with 3.5.0</h3>
<div class="sect3">
<h4 id="_graalvm_22_1_0"><a class="anchor" href="#_graalvm_22_1_0"></a>GraalVM 22.1.0</h4>
<div class="paragraph">
<p>Micronaut framework 3.5 supports <a href="https://www.graalvm.org/release-notes/22_1/">GraalVM 22.1.0</a>.</p>
</div>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-gradle-plugin/latest/">Micronaut Gradle Plugin v3.4.0</a> and <a href="https://github.com/micronaut-projects/micronaut-maven-plugin/releases/tag/v3.3.0">Micronaut Maven Plugin v3.3.0</a> support GraalVM 22.1.0.</p>
</div>
</div>
<div class="sect3">
<h4 id="_incremental_compilation_for_gradle_builds"><a class="anchor" href="#_incremental_compilation_for_gradle_builds"></a>Incremental Compilation for Gradle Builds</h4>
<div class="paragraph">
<p>Micronaut framework 3.5 supports fully incremental compilation, including GraalVM metadata for Gradle Builds.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_data"><a class="anchor" href="#_micronaut_data"></a>Micronaut Data</h4>
<div class="paragraph">
<p><a href="https://github.com/micronaut-projects/micronaut-data/releases/tag/v3.4.0">Micronaut Data 3.4.0</a> supports:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Postgres enums for JDBC.</p>
</li>
<li>
<p>Pagination for reactive repositories and specifications.</p>
</li>
<li>
<p>Pagination for async, coroutines repositories, and specifications.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_turbo_integration"><a class="anchor" href="#_turbo_integration"></a>Turbo Integration</h4>
<div class="paragraph">
<p>Micronaut Views adds <a href="https://micronaut-projects.github.io/micronaut-views/latest/guide/#turbo">integration with Turbo</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_new_module_micronaut_microstream"><a class="anchor" href="#_new_module_micronaut_microstream"></a>New Module - Micronaut Microstream</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-microstream/snapshot/guide/">Micronaut Microstream</a> eases working with <a href="https://microstream.one">MicroStream</a>, a native Java object graph storage engine.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scheduled_with_time_zones"><a class="anchor" href="#_scheduled_with_time_zones"></a>@Scheduled with Time Zones</h4>
<div class="paragraph">
<p>Optionally, you can specify a time zone when using the <a href="#scheduling"><code>@Scheduled</code> annotation</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Scheduled(cron = '1/33 0/1 * 1/1 * ?', zoneId = "America/Chicago")
void runCron() {
...
..</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_support_validation_groups_with_validated"><a class="anchor" href="#_support_validation_groups_with_validated"></a>Support validation groups with <code>@Validated</code></h4>
<div class="paragraph">
<p>You can enforce a subset of constraints using <a href="#validationGroups">validation groups</a> using groups on the <code>@Validated</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_advanced_listener_configuration"><a class="anchor" href="#_advanced_listener_configuration"></a>Advanced Listener Configuration</h4>
<div class="paragraph">
<p>Micronaut framework 3.5.0 offers more flexibility in configuring the HTTP Server. Instead of configuring a single port, you
<a href="#listener">can specify each listener manually</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ephemeral_factories"><a class="anchor" href="#_ephemeral_factories"></a>EPHEMERAL FACTORIES</h4>
<div class="paragraph">
<p>A <a href="#factories">Factory</a> has the default scope <code>@Singleton</code>, and it is destroyed with the context. Since Micronaut framework v3.5.0, you can dispose of the factory after producing a bean by annotating your factory class with <code>@Prototype</code> and <code>@Factory</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades"><a class="anchor" href="#_module_upgrades"></a>Module upgrades</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-test/releases/tag/v3.2.0">Micronaut Test 3.2.0</a> adds support for KoTest 5.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-aws/releases/tag/v3.5.0">Micronaut AWS 3.5.0</a> adds a new module <a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/#cdk">Micronaut AWS CDK</a>. It also upgrades to the latest versions of the AWS SDKs.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-micrometer/releases/tag/v4.3.0">Micronaut Micrometer 4.3.0</a> updates to Micrometer 1.9.0.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-gcp/releases/tag/v4.2.0">Micronaut GCP 4.2.0</a> updates to <code>grpc-auth</code>
1.45.1 and <code>grpc-netty-shaded</code>. Moreover, we have clarified the documentation to support GraalVM Native Images when using the GCP libraries, and the Micronaut GCP Bom now includes the <code>com.google.cloud:native-image-support</code> dependency.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-aot/releases/tag/v1.1.0">Micronaut AOT 1.1.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-sql/releases/tag/v4.4.0">Micronaut SQL to 4.4.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-problem-json/releases/tag/v2.3.0">Micronaut Problem JSON to 2.3.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-grpc/releases/tag/v3.3.0">Micronaut GRPC to 3.3.0</a> allows exposing a gRPC Health Check for a grpc-server.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-serialization/releases/tag/v1.1.0">Micronaut Serialization to 1.1.0</a>. It allows the serialization and deserialization of object arrays.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-openapi/releases/tag/v4.1.0">Micronaut OpenAPI to 4.1.0</a> updates to Swagger 2.2.0.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-r2dbc/releases/tag/v3.0.0">Micronaut R2DBC to 3.0.0</a> updates to R2DBC <code>1.0.0.RELEASE</code>.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-security/releases/tag/v3.6.0">Micronaut Security to 3.6.0</a>.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-cache/releases/tag/v3.4.1">Micronaut Cache to 3.4.1</a>.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-coherence/releases/tag/v3.4.1">Micronaut Coherence to 3.4.1</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Several modules publish a BOM (Bill of Materials) or use a  Gradle Version Catalogs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-jaxrs/releases/tag/v3.3.0">Micronaut JAX-RS to 3.3.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-picocli/releases/tag/v4.2.1">Micronaut Picocli to 4.2.1</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-acme/releases/tag/v3.2.0">Micronaut ACME to 3.2.0</a>.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-mongodb/releases/tag/v4.2.0">Micronaut MongoDB to 4.2.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-mqtt/releases/tag/v2.2.0">Micronaut MQTT to 2.2.0</a>.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-kafka/releases/tag/v4.3.0">Micronaut Kafka to 4.3.0</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_schema_migration_modules"><a class="anchor" href="#_schema_migration_modules"></a>Schema Migration Modules</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-flyway/releases/tag/v5.3.0">Micronaut Flyway 5.3.0</a> updates Flyway to 8.5.8.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-liquibase/releases/tag/v5.3.0">Micronaut Liquibase 5.3.0</a> updates Liquibase to 4.9.1</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_4_0"><a class="anchor" href="#_micronaut_framework_3_4_0"></a>Micronaut Framework 3.4.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_4_0"><a class="anchor" href="#_whats_new_with_3_4_0"></a>What&#8217;s new with 3.4.0</h3>
<div class="sect3">
<h4 id="_localized_message_source"><a class="anchor" href="#_localized_message_source"></a>Localized Message Source</h4>
<div class="paragraph">
<p>You can now inject <a href="#localizedMessageSource"><code>LocalizedMessageSource</code></a>, a <code>@RequestScope</code> bean, in your controllers to resolve localized messages for the current HTTP Request. It works in combination with <a href="#localeResolution">Micronaut Locale Resolution</a> capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_bean_properties_in_requires"><a class="anchor" href="#_referencing_bean_properties_in_requires"></a>Referencing bean properties in @Requires.</h4>
<div class="paragraph">
<p>With 3.4.0, you can <a href="https://docs.micronaut.io/latest/guide/#_referencing_bean_properties_in_requires">reference other beans properties in <code>@Requires</code> to load beans conditionally</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Requires(bean=Config.class, beanProperty="foo", value="John")</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_data_mongodb"><a class="anchor" href="#_micronaut_data_mongodb"></a>Micronaut Data MongoDB</h4>
<div class="paragraph">
<p><a href="https://github.com/micronaut-projects/micronaut-data/releases/tag/v3.3.0">Micronaut Data 3.3.0</a> includes <a href="https://micronaut-projects.github.io/micronaut-data/latest/guide/index.html#mongo">Micronaut Data MongoDB</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_aot_and_maven"><a class="anchor" href="#_micronaut_aot_and_maven"></a>Micronaut AOT and Maven</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-aot/latest/guide/">Micronaut AOT</a> is now fully supported for Maven users. Enabling AOT is as simply as passing <code>-Dmicronaut.aot.enabled</code> when running, testing, or packaging your application.</p>
</div>
<div class="paragraph">
<p>For more details, check the <a href="https://micronaut-projects.github.io/micronaut-maven-plugin/latest/examples/aot.html">Micronaut Maven Plugin documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_toml"><a class="anchor" href="#_micronaut_toml"></a>Micronaut TOML</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-toml/latest/guide/">Micronaut TOML</a> allows you to write your application configuration with <a href="https://toml.io/en/">TOML</a> in addition to <code>Properties</code>, <code>YAML</code>, <code>Groovy</code> or <code>Config4k</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_security"><a class="anchor" href="#_micronaut_security"></a>Micronaut Security</h4>
<div class="paragraph">
<p><a href="https://github.com/micronaut-projects/micronaut-security/releases/tag/v3.4.0">Micronaut Security 3.4.1</a> responds with an error when an authenticated user visits a sensitive endpoint. This forces the developer to define how they want their application to behave in that scenario. Read the <a href="https://github.com/micronaut-projects/micronaut-security/releases/tag/v3.4.0">release notes</a> and the <a href="https://micronaut-projects.github.io/micronaut-security/latest/guide/#builtInEndpointsAccess">documentation</a> to learn more.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bom_modules"><a class="anchor" href="#_bom_modules"></a>BOM Modules</h4>
<div class="paragraph">
<p>Several projects include a BOM (Bills of Materials) module:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-azure/releases/tag/v3.1.0">Micronaut Azure 3.1.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-gcp/releases/tag/v4.1.0">Micronaut GCP 4.1.0</a>. It includes updates to the latest versions of Google Cloud dependencies.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-kotlin/releases/tag/v3.2.0">Micronaut Kotlin 3.2.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-mongodb/releases/tag/v4.1.0">Micronaut MongoDB 4.1.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-mqtt/releases/tag/v2.1.0">Micronaut MQTT 2.1.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-reactor/releases/tag/v2.2.1">Micronaut Reactor 2.2.1</a>. It includes updates to the Project Reactor dependencies.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-redis/releases/tag/v5.2.0">Micronaut Redis 5.2.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-rxjava2/releases/tag/v1.2.0">Micronaut RxJava2 1.2.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-rxjava3/releases/tag/v2.2.0">Micronaut RxJava3 2.2.0</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-security/releases/tag/v3.4.0">Micronaut Security 3.4.1</a></p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-servlet/releases/tag/v3.2.0">Micronaut Servlet 3.2.0</a>. It includes updates to Tomcat and Undertow dependencies.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_other_module_upgrades"><a class="anchor" href="#_other_module_upgrades"></a>Other Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-aws/releases/tag/v3.2.0">Micronaut AWS 3.2.0</a> updates to the latest version of AWS SDK, ASK SDK and AWS Serverless Java Container.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-email/releases/tag/v1.1.0">Micronaut Email 1.1.0</a> updates to the Sendgrid 4.8.3 and contains improvements for <code>javamail</code> module users.</p>
</li>
<li>
<p><a href="https://github.com/micronaut-projects/micronaut-test/releases/tag/v3.1.0">Micronaut Test 3.1.0</a> updates the underlying testing dependencies.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_3_0"><a class="anchor" href="#_micronaut_framework_3_3_0"></a>Micronaut Framework 3.3.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_3_0"><a class="anchor" href="#_whats_new_with_3_3_0"></a>What&#8217;s new with 3.3.0</h3>
<div class="sect3">
<h4 id="_graalvm_22_0_0_2"><a class="anchor" href="#_graalvm_22_0_0_2"></a>GraalVM 22.0.0.2</h4>
<div class="paragraph">
<p>Micronaut now supports the latest GraalVM 22.0.0.2 release.</p>
</div>
</div>
<div class="sect3">
<h4 id="_environment_endpoint"><a class="anchor" href="#_environment_endpoint"></a>Environment Endpoint</h4>
<div class="paragraph">
<p>A new API api:management.endpoint.env.EnvironmentEndpointFilter[] has been created to allow applications to customize which keys should have their values masked and which keys should not have their values masked. See the <a href="#environmentEndpoint">documentation</a> for full details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aop_interceptor_binding"><a class="anchor" href="#_aop_interceptor_binding"></a>AOP Interceptor Binding</h4>
<div class="paragraph">
<p>When binding an AOP annotation to an interceptor, only the presence of the annotation is used to determine if the interceptor should be applied. Now it&#8217;s possible to also bind based on the values of the annotation. To enable this feature, set the <code>bindMembers</code> member of the ann:aop.InterceptorBinding[] annotation to <code>true</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_netty_buffer_allocation"><a class="anchor" href="#_netty_buffer_allocation"></a>Netty Buffer Allocation</h4>
<div class="paragraph">
<p>It is now possible to configure the default Netty buffer allocator. See the <a href="https://docs.micronaut.io/3.3.x/guide/configurationreference.html#io.micronaut.buffer.netty.DefaultByteBufAllocatorConfiguration">configuration reference</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_improved_flexibility_in_class_style"><a class="anchor" href="#_improved_flexibility_in_class_style"></a>Improved Flexibility in Class Style</h4>
<div class="paragraph">
<p>Many features of the Micronaut framework rely on the convention of getters and setters. Due to things like records and builders, the method names we look for are now configurable with the ann:core.annotation.AccessorsStyle[] annotation. For example, the annotation can be placed on ann:context.annotation.ConfigurationProperties[] beans to allow for binding configuration to methods that do not begin with <code>set</code>. It can also be used with classes annotated with ann:core.annotation.Introspected[].</p>
</div>
</div>
<div class="sect3">
<h4 id="_access_log_exclusions"><a class="anchor" href="#_access_log_exclusions"></a>Access Log Exclusions</h4>
<div class="paragraph">
<p>The Netty access logger now supports excluding requests based on a set of regular expression patterns that match against the URI. See the <a href="#accessLogger">AccessLogger documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_serializationdeserialization_module"><a class="anchor" href="#_new_serializationdeserialization_module"></a>New Serialization/Deserialization Module</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-serialization/1.0.x/guide/">Micronaut Serialization</a> is a new module created as an alternative to Jackson. It supports serializing and deserializing Java types (including Java 17 records) to and from JSON and other formats.</p>
</div>
<div class="paragraph">
<p>Users now have the choice of an alternative implementation that&#8217;s largely compatible with existing Jackson annotations but contains many benefits, including the elimination of reflection, compile-time validation, greater security because only explicit types are serializable, and reduction of native image build sizes, build times, and memory usage.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_email_module"><a class="anchor" href="#_new_email_module"></a>New Email Module</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-email/latest/guide/">Micronaut Email</a> is a new module to ease sending emails from a Micronaut application. It provides integration with transactional email providers such as Amazon Simple Email Service, Postmark, Mailjet or SendGrid.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_aot"><a class="anchor" href="#_micronaut_aot"></a>Micronaut AOT</h4>
<div class="paragraph">
<p>During this minor cycle, we released a milestone release of a new module Micronaut AOT. You can use Micronaut AOT and use the build-time optimizations provided by the module to achieve faster startup times via the Micronaut Gradle Plugin. Please, read more about it in the <a href="https://micronaut.io/2021/12/20/micronaut-aot-build-time-optimizations-for-micronaut-applications/">announcement blog post</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_kubernetes_3_3_0"><a class="anchor" href="#_micronaut_kubernetes_3_3_0"></a>Micronaut Kubernetes 3.3.0</h4>
<div class="paragraph">
<p>Micronaut Kubernetes 3.3 adds support to easily create the Kubernetes Operator. The Kubernetes Operator is a known pattern used to extend the capabilities of Kubernetes by creating application specific controllers for both native and custom resources. See more on <a href="https://micronaut-projects.github.io/micronaut-kubernetes/latest/guide/#kubernetes-operator">Kubernetes Operator</a>.</p>
</div>
<div class="paragraph">
<p>The version of Micronaut Kubernetes 3.3.0 also adds new Kubernetes reactive client for RxJava3.</p>
</div>
</div>
<div class="sect3">
<h4 id="_other_module_upgrades_2"><a class="anchor" href="#_other_module_upgrades_2"></a>Other Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut Cache 3.1.0</p>
</li>
<li>
<p>Micronaut Discovery Client 3.1.0</p>
</li>
<li>
<p>Micronaut Elasticsearch 4.2.0</p>
</li>
<li>
<p>Micronaut Flyway 5.1.1</p>
</li>
<li>
<p>Micronaut Kafka 4.1.1</p>
</li>
<li>
<p>Micronaut Kotlin 3.1.0</p>
</li>
<li>
<p>Micronaut Liquibase 5.1.1</p>
</li>
<li>
<p>Micronaut Openapi 4.0.0</p>
</li>
<li>
<p>Micronaut Picocli 4.1.0</p>
</li>
<li>
<p>Micronaut Problem 2.2.0</p>
</li>
<li>
<p>Micronaut Security 3.3.0</p>
</li>
<li>
<p>Micronaut Sql 4.1.1</p>
</li>
<li>
<p>Micronaut Toml 1.0.0-M2</p>
</li>
<li>
<p>Micronaut Views 3.1.2</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_other_dependency_upgrades"><a class="anchor" href="#_other_dependency_upgrades"></a>Other Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Apache Commons DBCP 2.9.0</p>
</li>
<li>
<p>Elasticsearch 7.16.3</p>
</li>
<li>
<p>Flyway 8.4.2</p>
</li>
<li>
<p>Hibernate 5.5.9.Final</p>
</li>
<li>
<p>Kotlin 1.6.10</p>
</li>
<li>
<p>Liquibase 4.7.1</p>
</li>
<li>
<p>Logback 1.2.10</p>
</li>
<li>
<p>Swagger 2.1.12</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_3_0_breaking_changes"><a class="anchor" href="#_3_3_0_breaking_changes"></a>3.3.0 Breaking Changes</h3>
<div class="ulist">
<ul>
<li>
<p>The <a href="#environmentEndpoint">environmental endpoint</a> is now disabled by default. To enable it, you must update your endpoint config:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>endpoints:
  env:
    enabled: true</pre>
</div>
</div>
<div class="paragraph">
<p>This will then be available, but mask all values.  To restore the previous functionality, you can add a bean that implements api:management.endpoint.env.EnvironmentEndpointFilter[]:</p>
</div>
<div class="listingblock">
<div class="title">Legacy Environment Filtering Bean</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Singleton
public class LegacyEnvEndpointFilter implements EnvironmentEndpointFilter {
    @Override
    public void specifyFiltering(@NotNull EnvironmentFilterSpecification specification) {
        specification.legacyMasking();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the <a href="#environmentEndpoint">documentation</a> for more filtering options.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_2_4"><a class="anchor" href="#_micronaut_framework_3_2_4"></a>Micronaut Framework 3.2.4</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_3_2_4_breaking_changes"><a class="anchor" href="#_3_2_4_breaking_changes"></a>3.2.4 Breaking Changes</h3>
<div class="ulist">
<ul>
<li>
<p>The <a href="{api}/io/micronaut/http/client/ProxyHttpClient.html">ProxyHttpClient</a> now sends the Host header of the proxied service <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23">as per the RFC</a>, instead of the originating service.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_2_0"><a class="anchor" href="#_micronaut_framework_3_2_0"></a>Micronaut Framework 3.2.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_2_0"><a class="anchor" href="#_whats_new_with_3_2_0"></a>What&#8217;s new with 3.2.0</h3>
<div class="sect3">
<h4 id="_graalvm_21_3_0"><a class="anchor" href="#_graalvm_21_3_0"></a>GraalVM 21.3.0</h4>
<div class="paragraph">
<p>Micronaut has been updated to support the latest GraalVM 21.3.0 release. Please keep in mind that starting with 21.3.0 GraalVM doesn&#8217;t release a version based on JDK 8. If you still use Java 8 use the GraalVM JDK 11 distribution.</p>
</div>
<div class="paragraph">
<p>The official GraalVM Maven plugin has new GAV coordinates so if you have declared it in your <code>pom.xml</code> update the coordinates to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;plugin&gt;
    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;
    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;
...
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please check <a href="https://graalvm.github.io/native-build-tools/0.9.7.1/maven-plugin.html">the official documentation</a> about how to customize the plugin.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gradle_plugin_3_0_0"><a class="anchor" href="#_gradle_plugin_3_0_0"></a>Gradle Plugin 3.0.0</h4>
<div class="paragraph">
<p>A new major version of the Gradle plugin has been released, including internal changes to use Gradle&#8217;s lazy configuration APIs.
In the process, <a href="https://micronaut-projects.github.io/micronaut-gradle-plugin/latest/">documentation</a> has been rewritten.</p>
</div>
<div class="paragraph">
<p>Support for GraalVM now delegates to <a href="https://graalvm.github.io/native-build-tools/0.9.7.1/gradle-plugin.html">the official GraalVM plugin</a>.
We recommend to upgrade in order to get the latest bugfixes, but this constitutes a breaking change for some users:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>nativeImage</code> task is now replaced with <code>nativeCompile</code></p>
</li>
<li>
<p>native image configuration happens in the <code>graalvmNative</code> DSL extension instead of the <code>nativeCompile</code> task</p>
</li>
<li>
<p>native image building makes use of Gradle&#8217;s toolchain support. Please refer to the <a href="https://micronaut-projects.github.io/micronaut-gradle-plugin/latest/">documentation</a> for help.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can still build existing applications or libraries using the 2.x version of the Gradle plugin. Documentation for this version can be found <a href="https://github.com/micronaut-projects/micronaut-gradle-plugin/blob/2.0.x/README.md">here</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_kotlin_1_6_0"><a class="anchor" href="#_kotlin_1_6_0"></a>Kotlin 1.6.0</h4>
<div class="paragraph">
<p>Micronaut 3.2.0 includes support for Kotlin 1.6.0.</p>
</div>
</div>
<div class="sect3">
<h4 id="_http_features"><a class="anchor" href="#_http_features"></a>HTTP Features</h4>
<div class="sect4">
<h5 id="_websocket_ping_api"><a class="anchor" href="#_websocket_ping_api"></a>WebSocket Ping API</h5>
<div class="paragraph">
<p>WebSocket ann:websocket.annotation.OnMessage[] methods can now accept a api:websocket.WebSocketPongMessage[] parameter that will receive a WebSocket pong sent as a response to a ping submitted using the new <code>sendPingAsync</code> method on api:websocket.WebSocketSession[].</p>
</div>
</div>
<div class="sect4">
<h5 id="_http2_server_push"><a class="anchor" href="#_http2_server_push"></a>HTTP2 Server Push</h5>
<div class="paragraph">
<p>It is now possible to send resources, e.g. stylesheets required by a HTML page, to the client alongside the request for the page using the HTTP2 server push protocol. See the <a href="#http2Server">HTTP/2 documentation</a> for information on how to use this feature.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jsonview_on_request_bodies"><a class="anchor" href="#_jsonview_on_request_bodies"></a>JsonView on request bodies</h5>
<div class="paragraph">
<p>You can now specify the Jackson <code>@JsonView</code> annotation on <code>@Body</code> parameters to controller methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="_websocket_wswss_protocol_support"><a class="anchor" href="#_websocket_wswss_protocol_support"></a>WebSocket ws/wss protocol support</h5>
<div class="paragraph">
<p>The WebSocket clients now support the ws/wss protocol. To implement this change, the api:websocket.WebSocketClient[] <code>create</code> methods now take a <code>URI</code> instead of a <code>URL</code>. The <code>URL</code> methods have been deprecated.</p>
</div>
<div class="paragraph">
<p>Note: Should you be calling <code>WebSocketClient.create(null)</code>, the method call is now ambiguous. Insert a cast in that case: <code>WebSocketClient.create((URI) null)</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_ssl_handshake_timeout_configuration"><a class="anchor" href="#_ssl_handshake_timeout_configuration"></a>SSL handshake timeout configuration</h5>
<div class="paragraph">
<p>The SSL handshake timeout can now be configured using the <code>micronaut.ssl.handshakeTimeout</code> and <code>micronaut.http.client.ssl.handshakeTimeout</code> configurations for the server and client respectively.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_2"><a class="anchor" href="#_module_upgrades_2"></a>Module Upgrades</h4>
<div class="sect4">
<h5 id="_micronaut_data_3_2_0"><a class="anchor" href="#_micronaut_data_3_2_0"></a>Micronaut Data 3.2.0</h5>
<div class="ulist">
<ul>
<li>
<p>Repositories with JPA Criteria API specification for Micronaut JDBC/R2DBC</p>
</li>
<li>
<p>Expandable query parameters optimizations</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_reactive_modules"><a class="anchor" href="#_reactive_modules"></a>Reactive Modules</h5>
<div class="ulist">
<ul>
<li>
<p>The RxJava2, RxJava3, and Reactor modules have been updated with the equivalent static <code>create</code> methods on their core counterparts.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_micrometer_4_1_0"><a class="anchor" href="#_micronaut_micrometer_4_1_0"></a>Micronaut Micrometer 4.1.0</h5>
<div class="ulist">
<ul>
<li>
<p>Adds support for metrics with gRPC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_security_3_2_0"><a class="anchor" href="#_micronaut_security_3_2_0"></a>Micronaut Security 3.2.0</h5>
<div class="ulist">
<ul>
<li>
<p>The way JSON Web Key Sets are being cached has been greatly improved for scenarios where there are multiple key sets.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_other_module_upgrades_3"><a class="anchor" href="#_other_module_upgrades_3"></a>Other Module Upgrades</h5>
<div class="ulist">
<ul>
<li>
<p>Elasticsearch 7.15.2</p>
</li>
<li>
<p>Flyway 8.0.2</p>
</li>
<li>
<p>gRPC 1.39.0</p>
</li>
<li>
<p>Liquibase 4.6.1</p>
</li>
<li>
<p>Micronaut Elasticsearch 4.0.0</p>
</li>
<li>
<p>Micronaut Flyway 5.0.0</p>
</li>
<li>
<p>Micronaut gRPC 3.1.1</p>
</li>
<li>
<p>Micronaut Liquibase 5.0.0</p>
</li>
<li>
<p>Micronaut OpenAPI 3.2.0</p>
</li>
<li>
<p>Micronaut Redis 5.1.0</p>
</li>
<li>
<p>Testcontainers 1.16.1</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_2_0_breaking_changes"><a class="anchor" href="#_3_2_0_breaking_changes"></a>3.2.0 Breaking Changes</h3>
<div class="ulist">
<ul>
<li>
<p>The HTTP client now does SSL certificate verification by default. The old insecure behavior can be re-enabled by setting the <code>micronaut.http.client.ssl.insecureTrustAllCertificates</code> property to <code>true</code>, but consider using a trust store instead if you&#8217;re using self-signed certificates.</p>
</li>
<li>
<p>Maven GraalVM Native Image plugin has new GAV coordinates. If you have declared it in your <code>pom.xml</code> please update the coordinates to:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;plugin&gt;
    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;
    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;
...
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>WebSocketClient.create</code> has been modified to accept a <code>URI</code> parameter instead of <code>URL</code>. The old <code>URL</code> methods still exist, but when called with <code>null</code> like <code>WebSocketClient.create(null)</code>, the method call is now ambiguous. Please insert a cast to <code>URI</code>: <code>WebSocketClient.create((URI) null)</code>.
The same applies for the <code>create</code> method that accepts an additional <code>HttpClientConfiguration</code> parameter.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_1_0"><a class="anchor" href="#_micronaut_framework_3_1_0"></a>Micronaut Framework 3.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_1_0"><a class="anchor" href="#_whats_new_with_3_1_0"></a>What&#8217;s new with 3.1.0</h3>
<div class="sect3">
<h4 id="_core_features"><a class="anchor" href="#_core_features"></a>Core Features</h4>
<div class="sect4">
<h5 id="_primitive_beans"><a class="anchor" href="#_primitive_beans"></a>Primitive Beans</h5>
<div class="paragraph">
<p><a href="#factories">Factory Beans</a> can now create beans that are primitive types or primitive array types.</p>
</div>
<div class="paragraph">
<p>See the section on <a href="#factories">Primitive Beans and Arrays</a> in the documentation for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_repeatable_qualifiers"><a class="anchor" href="#_repeatable_qualifiers"></a>Repeatable Qualifiers</h5>
<div class="paragraph">
<p><a href="#qualifiers">Qualifiers</a> can now be repeatable (an annotation annotated with <code>java.lang.annotation.Repeatable</code>) allowing narrowing bean resolution by a complete or partial match of the qualifiers declared on the injection point.</p>
</div>
</div>
<div class="sect4">
<h5 id="_injectscope"><a class="anchor" href="#_injectscope"></a>InjectScope</h5>
<div class="paragraph">
<p>A new ann:context.annotation.InjectScope[] annotation has been added which destroys any beans with no defined scope and injected into a method or constructor annotated with <code>@Inject</code> after the method or constructor completes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_more_build_time_optimizations"><a class="anchor" href="#_more_build_time_optimizations"></a>More Build Time Optimizations</h5>
<div class="paragraph">
<p>Further build time metadata optimizations have been added included reducing the number and size of the classes generated to support <a href="#introspection">Bean Introspection</a> and including knowledge of repeatable annotations in generated metadata avoiding further reflective calls and optimizing Micronaut&#8217;s memory usage, in particular with GraalVM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_context_propagation"><a class="anchor" href="#_improvements_to_context_propagation"></a>Improvements to Context Propagation</h5>
<div class="paragraph">
<p>Support for <a href="#context">Reactive context propagation</a> has been further improved by inclusion of request context information in the <a href="https://projectreactor.io/docs/core/release/reference/#context">Reactor context</a> and <a href="#kotlinContextPropagation">documentation on how to effectively propagate the context across reactive flows</a> when using Kotlin coroutines.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_the_element_api"><a class="anchor" href="#_improvements_to_the_element_api"></a>Improvements to the Element API</h5>
<div class="paragraph">
<p>The build-time api:inject.ast.Element[] API has been improved in a number of ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New methods were added to the api:inject.ast.MethodElement[] API to resolve the retriever type and throws declaration</p>
</li>
<li>
<p>A new experimental API has been added to the api:inject.ast.ClassElement[] API  to resolve generic placeholders and resolve the generic bound to the element</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_http_features_2"><a class="anchor" href="#_http_features_2"></a>HTTP Features</h4>
<div class="sect4">
<h5 id="_filter_by_regex"><a class="anchor" href="#_filter_by_regex"></a>Filter By Regex</h5>
<div class="paragraph">
<p>HTTP filters now support matching URLs by a regular expression. Set the <code>patternStyle</code> member of the annotation to <code>REGEX</code> and the value will be treated as a regular expression.</p>
</div>
</div>
<div class="sect4">
<h5 id="_random_port_binding"><a class="anchor" href="#_random_port_binding"></a>Random Port Binding</h5>
<div class="paragraph">
<p>The way the server binds to random ports has improved and should result in fewer port binding exceptions in tests.</p>
</div>
</div>
<div class="sect4">
<h5 id="_client_data_formatting"><a class="anchor" href="#_client_data_formatting"></a>Client Data Formatting</h5>
<div class="paragraph">
<p>The ann:core.convert.format.Format[] annotation now supports several new values that can be used in conjunction with the declarative HTTP client to support formatting data in several new ways. See the <a href="#clientParameters">client parameters</a> documentation for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_streamingfileupload"><a class="anchor" href="#_streamingfileupload"></a>StreamingFileUpload</h5>
<div class="paragraph">
<p>The api:http.multipart.StreamingFileUpload[] API has been improved to support streaming directly to an output stream. As with the other <code>transferTo</code> methods, the write to the stream is offloaded to the IO pool automatically.</p>
</div>
</div>
<div class="sect4">
<h5 id="_server_ssl_configuration"><a class="anchor" href="#_server_ssl_configuration"></a>Server SSL Configuration</h5>
<div class="paragraph">
<p>The SSL configuration for the Netty server now responds to refresh events. This allows for swapping out certificates without having to restart the server. See the <a href="#https">https documentation</a> for information on how to trigger the refresh.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_netty_server_api"><a class="anchor" href="#_new_netty_server_api"></a>New Netty Server API</h5>
<div class="paragraph">
<p>If you wish to programmatically start additional Netty servers on different ports with potentially different configurations, new APIs have been added to do so including a new api:http.server.netty.NettyEmbeddedServerFactory[] interface.</p>
</div>
<div class="paragraph">
<p>See the documentation on <a href="#secondaryServers">Starting Secondary Servers</a> for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_deprecations"><a class="anchor" href="#_deprecations"></a>Deprecations</h4>
<div class="paragraph">
<p>The <code>netty.responses.file.*</code> configuration is deprecated in favor of <code>micronaut.server.netty.responses.file.*</code>. The old configuration key will be removed in the next major version of the framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_3"><a class="anchor" href="#_module_upgrades_3"></a>Module Upgrades</h4>
<div class="sect4">
<h5 id="_micronaut_data_3_1_0"><a class="anchor" href="#_micronaut_data_3_1_0"></a>Micronaut Data 3.1.0</h5>
<div class="ulist">
<ul>
<li>
<p>Kotlin&#8217;s coroutines support. New repository interface <code>CoroutineCrudRepository</code>.</p>
</li>
<li>
<p>Support for <code>AttributeConverter</code></p>
</li>
<li>
<p>R2DBC upgraded to <code>Arabba-SR11</code></p>
</li>
<li>
<p>JPA Criteria specifications</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_jax_rs_3_1"><a class="anchor" href="#_micronaut_jax_rs_3_1"></a>Micronaut JAX-RS 3.1</h5>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-jaxrs/latest/guide/">JAX-RS module</a> now integrated with Micronaut Security allowing binding of the JAX-RS <code>SecurityContext</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_kubernetes_3_1_0"><a class="anchor" href="#_micronaut_kubernetes_3_1_0"></a>Micronaut Kubernetes 3.1.0</h5>
<div class="paragraph">
<p>Micronaut Kubernetes 3.1 introduces new annotation <a href="https://micronaut-projects.github.io/micronaut-kubernetes/latest/api/io/micronaut/kubernetes/client/informer/Informer.html">@Informer</a>. By using the annotation on the <a href="https://javadoc.io/doc/io.kubernetes/client-java/latest/io/kubernetes/client/informer/ResourceEventHandler.html">ResourceEventHandler</a> the Micronaut will instantiate the <a href="https://javadoc.io/doc/io.kubernetes/client-java/latest/io/kubernetes/client/informer/SharedIndexInformer.html">SharedInformer</a> from the official <a href="https://github.com/kubernetes-client/java">Kubernetes Java SDK</a>. Then you only need to take care of handling the changes of the watched Kubernetes resource. See more on <a href="https://micronaut-projects.github.io/micronaut-kubernetes/latest/guide/#kubernetes-informer">Kubernetes Informer</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_oracle_coherence_3_0_0"><a class="anchor" href="#_micronaut_oracle_coherence_3_0_0"></a>Micronaut Oracle Coherence 3.0.0</h5>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/">Micronaut Oracle Coherence</a> module is now out of preview status and includes broad integration with Oracle Coherence including support for caching, messaging and Micronaut Data.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_1_0_breaking_changes"><a class="anchor" href="#_3_1_0_breaking_changes"></a>3.1.0 Breaking Changes</h3>
<div class="paragraph">
<p>Retrieving the port from the Netty embedded server is no longer supported if the server is configured to bind to a random port and the server has not been started.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_3_0_0"><a class="anchor" href="#_micronaut_framework_3_0_0"></a>Micronaut Framework 3.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_3_0_0"><a class="anchor" href="#_whats_new_with_3_0_0"></a>What&#8217;s new with 3.0.0</h3>
<div class="sect3">
<h4 id="_core_features_2"><a class="anchor" href="#_core_features_2"></a>Core Features</h4>
<div class="sect4">
<h5 id="_optimized_build_time_metadata"><a class="anchor" href="#_optimized_build_time_metadata"></a>Optimized Build-Time Metadata</h5>
<div class="paragraph">
<p>Micronaut 3.0 introduces a new build time metadata format that is more efficient in terms of startup and code size.</p>
</div>
<div class="paragraph">
<p>The result is significant improvements to startup and native image sizes when building native images with GraalVM Native Image.</p>
</div>
<div class="paragraph">
<p>It is recommended that users re-compile their applications and libraries with Micronaut 3.0 to benefit from these changes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_graalvm_21_2"><a class="anchor" href="#_support_for_graalvm_21_2"></a>Support for GraalVM 21.2</h5>
<div class="paragraph">
<p>Micronaut has been updated to support the latest GraalVM 21.2 release.</p>
</div>
</div>
<div class="sect4">
<h5 id="_jakarta_inject"><a class="anchor" href="#_jakarta_inject"></a>Jakarta Inject</h5>
<div class="paragraph">
<p>The <code>jakarta.inject</code> annotations are now the default injection annotations for Micronaut 3</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_jsr_330_bean_import"><a class="anchor" href="#_support_for_jsr_330_bean_import"></a>Support for JSR-330 Bean Import</h5>
<div class="paragraph">
<p>Using the ann:context.annotation.Import[] annotation it is now possible to import bean definitions into your application where JSR-330 (either <code>javax.inject</code> or <code>jakarta.inject</code> annotations) are used in an external library.</p>
</div>
<div class="paragraph">
<p>See the documentation on <a href="#beanImport">Bean Import</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_controlling_annotation_inheritance"><a class="anchor" href="#_support_for_controlling_annotation_inheritance"></a>Support for Controlling Annotation Inheritance</h5>
<div class="paragraph">
<p>api:core.annotation.AnnotationMetadata[] inheritance can now be controlled via Java&#8217;s <code>@Inherited</code> annotation. If an annotation is not explicitly annotated with <code>@Inherited</code> it will not be included in the metadata. See the <a href="#annotationMetadata">Annotation Inheritance</a> section of the documentation for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This is an important behavioural change from Micronaut 2.x, see the <a href="#breaks">Breaking Changes</a> section for information on how to upgrade.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_support_narrowing_injection_by_generic_type_arguments"><a class="anchor" href="#_support_narrowing_injection_by_generic_type_arguments"></a>Support Narrowing Injection by Generic Type Arguments</h5>
<div class="paragraph">
<p>Micronaut can now resolve the correct bean to inject based on the generic type arguments specified on the injection point:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.inject.generics.Vehicle[tags="constructor",indent=0]</p>
</div>
<div class="paragraph">
<p>For more information see the section on <a href="#qualifiers">Qualifying by Generic Type Arguments</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_using_annotation_members_in_qualifiers"><a class="anchor" href="#_support_for_using_annotation_members_in_qualifiers"></a>Support for using Annotation Members in Qualifiers</h5>
<div class="paragraph">
<p>You can now use annotation members in qualifiers and specify which members should be excluded with the new ann:context.annotation.NonBinding[] annotation.</p>
</div>
<div class="paragraph">
<p>For more information see the section on <a href="#qualifiers">Qualifying By Annotation Members</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_limiting_the_injectable_types"><a class="anchor" href="#_support_for_limiting_the_injectable_types"></a>Support for Limiting the Injectable Types</h5>
<div class="paragraph">
<p>You can now limit the exposed types of a bean using the <code>typed</code> member of the ann:context.annotation.Bean[] annotation:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.inject.typed.V8Engine[tags="class",indent=0]</p>
</div>
<div class="paragraph">
<p>For more information see the section on <a href="#typed">Limiting Injectable Types</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_factories_can_produce_bean_from_fields"><a class="anchor" href="#_factories_can_produce_bean_from_fields"></a>Factories can produce bean from fields</h5>
<div class="paragraph">
<p>Beans defined with the ann:context.annotation.Factory[] annotation can now produce beans from public or package protected fields, for example:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.factories.VehicleMockSpec[tags="class",indent=0]</p>
</div>
<div class="paragraph">
<p>For more information see the <a href="#factories">Bean Factories</a> section of the documentation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enhanced_beanprovider_interface"><a class="anchor" href="#_enhanced_beanprovider_interface"></a>Enhanced <code>BeanProvider</code> Interface</h5>
<div class="paragraph">
<p>The api:context.BeanProvider[] interface has been enhanced with new methods such as <code>iterator()</code> and <code>stream()</code> as well as methods to check for bean existence and uniqueness.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_any_qualifier_for_use_in_bean_factories"><a class="anchor" href="#_new_any_qualifier_for_use_in_bean_factories"></a>New <code>@Any</code> Qualifier for use in Bean Factories</h5>
<div class="paragraph">
<p>A new ann:context.annotation.Any[] qualifier has been introduced to allow injecting any available instance into an injection point and can be used in combination with the new <code>BeanProvider</code> interface mentioned above to allow more dynamic behaviour.</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.qualifiers.any.Vehicle[tags="imports,clazz", indent=0, title="Using BeanProvider with Any"]</p>
</div>
<div class="paragraph">
<p>The annotation can also be used on ann:context.annotation.Factory[] methods to allow customization of how objects are injected via the api:inject.InjectionPoint[] API.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_fields_in_bean_introspections"><a class="anchor" href="#_support_for_fields_in_bean_introspections"></a>Support for Fields in Bean Introspections</h5>
<div class="paragraph">
<p>Bean introspections on public or package protected fields are now supported:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.ioc.beans.User[tags="class", indent=0]</p>
</div>
<div class="paragraph">
<p>For more information see the "Bean Fields" section of the <a href="#introspection">Bean Introspections</a> documentation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_applicationeventpublisher_has_now_a_generic_event_type"><a class="anchor" href="#_applicationeventpublisher_has_now_a_generic_event_type"></a><code>ApplicationEventPublisher</code> has now a generic event type</h5>
<div class="paragraph">
<p>For the performance reasons it&#8217;s advised to inject an instance of <code>ApplicationEventPublisher</code> with a generic type parameter - <code>ApplicationEventPublisher&lt;MyEvent&gt;</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aop_features"><a class="anchor" href="#_aop_features"></a>AOP Features</h4>
<div class="sect4">
<h5 id="_support_for_constructor_interception"><a class="anchor" href="#_support_for_constructor_interception"></a>Support for Constructor Interception</h5>
<div class="paragraph">
<p>It is now possible to intercept bean construction invocations through the api:aop.ConstructorInterceptor[] interface and ann:aop.AroundConstruct[] annotation.</p>
</div>
<div class="paragraph">
<p>See the section on <a href="#lifecycleAdvice">Bean Life Cycle Advice</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_postconstruct_predestroy_interception"><a class="anchor" href="#_support_for_postconstruct_predestroy_interception"></a>Support for <code>@PostConstruct</code> &amp; <code>@PreDestroy</code> Interception</h5>
<div class="paragraph">
<p>It is now possible to intercept <code>@PostConstruct</code> and <code>@PreDestroy</code> method invocations through the api:aop.MethodInterceptor[] interface and ann:aop.InterceptorBinding[] annotation.</p>
</div>
<div class="paragraph">
<p>See the section on <a href="#lifecycleAdvice">Bean Life Cycle Advice</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_random_configuration_values"><a class="anchor" href="#_random_configuration_values"></a>Random Configuration Values</h5>
<div class="paragraph">
<p>It is now possible to set a max and a range for random numbers in configuration. For example to set an integer between 0 and 9, <code>${random.int(10)}</code> can be used as the configuration value. See the <a href="#propertySource">documentation</a> under "Using Random Properties" for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_project_reactor_used_internally_instead_of_rxjava2"><a class="anchor" href="#_project_reactor_used_internally_instead_of_rxjava2"></a>Project Reactor used internally instead of RxJava2</h5>
<div class="paragraph">
<p>Micronaut 3 uses internally <a href="https://projectreactor.io">Project Reactor</a> instead <a href="https://github.com/ReactiveX/RxJava">RxJava 2</a>. Project Reactor allows
Micronaut 3 to simplify instrumentation, thanks to <a href="https://projectreactor.io/docs/core/release/api/reactor/util/context/Context.html">Reactor&#8217;s Context</a>,  simplifies conversion login and eases the integration with R2DBC drivers. We recommend users to migrate to Reactor. However, it is possible to continue to use RxJava. See <a href="#reactiveConfigs">Reactive Programming section</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_4"><a class="anchor" href="#_module_upgrades_4"></a>Module Upgrades</h4>
<div class="sect4">
<h5 id="_micronaut_data_3_1_0_2"><a class="anchor" href="#_micronaut_data_3_1_0_2"></a>Micronaut Data 3.1.0</h5>
<div class="ulist">
<ul>
<li>
<p>Kotlin&#8217;s coroutines support. New repository interface <code>CoroutineCrudRepository</code>.</p>
</li>
<li>
<p>Support for <code>AttributeConverter</code></p>
</li>
<li>
<p>R2DBC upgraded to <code>Arabba-SR11</code></p>
</li>
<li>
<p>JPA Criteria specifications</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_micrometer_4_0_0"><a class="anchor" href="#_micronaut_micrometer_4_0_0"></a>Micronaut Micrometer 4.0.0</h5>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/">Micrometer module</a> has been upgraded and now supports repeated definitions of the <a href="https://micrometer.io/?/docs/concepts#_the_timed_annotation">@Timed</a> annotation as well as also supporting the <code>@Counted</code> annotation for counters when you add the <code>micronaut-micrometer-annotation</code> dependency to your annotation processor classpath.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_oracle_cloud_2_0_0"><a class="anchor" href="#_micronaut_oracle_cloud_2_0_0"></a>Micronaut Oracle Cloud 2.0.0</h5>
<div class="paragraph">
<p>Micronaut&#8217;s <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/">Oracle Cloud Integration</a> has been updated with support for Cloud Monitoring and Tracing.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_cassandra_4_0_0"><a class="anchor" href="#_micronaut_cassandra_4_0_0"></a>Micronaut Cassandra 4.0.0</h5>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-cassandra/latest/guide/">Micronaut Cassandra</a> integration now includes support for GraalVM out of the box.</p>
</div>
</div>
<div class="sect4">
<h5 id="_other_modules"><a class="anchor" href="#_other_modules"></a>Other Modules</h5>
<div class="ulist">
<ul>
<li>
<p>Micronaut Acme 3.0.0</p>
</li>
<li>
<p>Micronaut Aws 3.0.0</p>
</li>
<li>
<p>Micronaut Azure 3.0.0</p>
</li>
<li>
<p>Micronaut Cache 3.0.0</p>
</li>
<li>
<p>Micronaut Discovery Client 3.0.0</p>
</li>
<li>
<p>Micronaut ElasticSearch 3.0.0</p>
</li>
<li>
<p>Micronaut Flyway 4.1.0</p>
</li>
<li>
<p>Micronaut GCP 4.0.0</p>
</li>
<li>
<p>Micronaut GraphQL 3.0.0</p>
</li>
<li>
<p>Micronaut Groovy 3.0.0</p>
</li>
<li>
<p>Micronaut Grpc 3.0.0</p>
</li>
<li>
<p>Micronaut Jackson XML 3.0.0</p>
</li>
<li>
<p>Micronaut Jaxrs 3.0.0</p>
</li>
<li>
<p>Micronaut JMX 3.0.0</p>
</li>
<li>
<p>Micronaut Kafka 4.0.0</p>
</li>
<li>
<p>Micronaut Kotlin 3.0.0</p>
</li>
<li>
<p>Micronaut Kubernetes 3.0.0</p>
</li>
<li>
<p>Micronaut Liquibase 4.0.2</p>
</li>
<li>
<p>Micronaut Mongo 4.0.0</p>
</li>
<li>
<p>Micronaut MQTT 2.0.0</p>
</li>
<li>
<p>Micronaut Multitenancy 4.0.0</p>
</li>
<li>
<p>Micronaut Nats Io 3.0.0</p>
</li>
<li>
<p>Micronaut Neo4j 5.0.0</p>
</li>
<li>
<p>Micronaut OpenApi 3.0.1</p>
</li>
<li>
<p>Micronaut Picocli 4.0.0</p>
</li>
<li>
<p>Micronaut Problem Json 2.0.0</p>
</li>
<li>
<p>Micronaut R2DBC 2.0.0</p>
</li>
<li>
<p>Micronaut RabbitMQ 3.0.0</p>
</li>
<li>
<p>Micronaut Reactor 2.0.0</p>
</li>
<li>
<p>Micronaut Redis 5.0.0</p>
</li>
<li>
<p>Micronaut RSS 3.0.0</p>
</li>
<li>
<p>Micronaut RxJava2 1.0.0 (new)</p>
</li>
<li>
<p>Micronaut RxJava3 2.0.0</p>
</li>
<li>
<p>Micronaut Security 3.0.0</p>
</li>
<li>
<p>Micronaut Servlet 3.0.0</p>
</li>
<li>
<p>Micronaut Spring 4.0.0</p>
</li>
<li>
<p>Micronaut SQL 4.0.0</p>
</li>
<li>
<p>Micronaut Test 3.0.0</p>
</li>
<li>
<p>Micronaut Views 3.0.0</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_upgrades"><a class="anchor" href="#_dependency_upgrades"></a>Dependency Upgrades</h5>
<div class="ulist">
<ul>
<li>
<p>Caffeine 2.9.1</p>
</li>
<li>
<p>Cassandra 4.11.1</p>
</li>
<li>
<p>Elasticsearch 7.12.0</p>
</li>
<li>
<p>Flyway 7.12.1</p>
</li>
<li>
<p>GraalVM 21.2.0</p>
</li>
<li>
<p>H2 Database 1.4.200</p>
</li>
<li>
<p>Hazelcast 4.2.1</p>
</li>
<li>
<p>Hibernate 5.5.3.Final</p>
</li>
<li>
<p>Hikari 4.0.3</p>
</li>
<li>
<p>Infinispan 12.1.6.Final</p>
</li>
<li>
<p>Jackson 2.12.4</p>
</li>
<li>
<p>Jaeger 1.6.0</p>
</li>
<li>
<p>Jakarta Annotation API 2.0.0</p>
</li>
<li>
<p>JAsync 1.2.2</p>
</li>
<li>
<p>JDBI 3.20.1</p>
</li>
<li>
<p>JOOQ 3.14.12</p>
</li>
<li>
<p>JUnit 5.7.2</p>
</li>
<li>
<p>Kafka 2.8.0</p>
</li>
<li>
<p>Kotlin 1.5.21</p>
</li>
<li>
<p>Kotlin Coroutines 1.5.1</p>
</li>
<li>
<p>Ktor 1.6.1</p>
</li>
<li>
<p>Liquibase 4.4.3</p>
</li>
<li>
<p>MariaDB Driver 2.7.3</p>
</li>
<li>
<p>Micrometer 1.7.1</p>
</li>
<li>
<p>MongoDB 4.3.0</p>
</li>
<li>
<p>MS SQL Driver 9.2.1.jre8</p>
</li>
<li>
<p>MySQL Driver 8.0.25</p>
</li>
<li>
<p>Neo4j Driver 4.2.7</p>
</li>
<li>
<p>Postgres Driver 42.2.23</p>
</li>
<li>
<p>Reactor 3.4.8</p>
</li>
<li>
<p>RxJava3 3.0.13</p>
</li>
<li>
<p>SLF4J 1.7.29</p>
</li>
<li>
<p>Snake YAML 1.29</p>
</li>
<li>
<p>Spock 2.0-groovy-3.0</p>
</li>
<li>
<p>Spring 5.3.9</p>
</li>
<li>
<p>Spring Boot 2.5.3</p>
</li>
<li>
<p>Testcontainers 1.15.3</p>
</li>
<li>
<p>Tomcat JDBC 10.0.8</p>
</li>
<li>
<p>Vertx SQL Drivers 4.1.1</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_0_0_breaking_changes"><a class="anchor" href="#_3_0_0_breaking_changes"></a>3.0.0 Breaking Changes</h3>
<div class="sect3">
<h4 id="_core_changes"><a class="anchor" href="#_core_changes"></a>Core Changes</h4>
<div class="sect4">
<h5 id="_annotation_inheritance"><a class="anchor" href="#_annotation_inheritance"></a>Annotation Inheritance</h5>
<div class="paragraph">
<p>Possibly the most important change in Micronaut 3.0 is how annotations are inherited from parent classes, methods and interfaces.</p>
</div>
<div class="paragraph">
<p>Micronaut 2.x did not respect the rules defined in the jdk:java.lang.reflect.AnnotatedElement[], and inherited all annotations from parent interfaces and types regardless of the presence of the jdk:java.lang.annotation.Inherited[] annotation.</p>
</div>
<div class="paragraph">
<p>With Micronaut 3.x and above only annotations that are explicitly meta-annotated with jdk:java.lang.annotation.Inherited[] are now inherited from parent classes and interfaces.
This applies to types in the case where one extends another, and methods in the case where one overrides another.</p>
</div>
<div class="paragraph">
<p>Many of Micronaut&#8217;s core annotations have been annotated with <code>@Inherited</code>, so no change will be required, but some annotations that are either outside Micronaut or defined by user code will need changes to code or the annotation.</p>
</div>
<div class="paragraph">
<p>In general, behaviour which you wish to override is not inherited by default in Micronaut 3.x and above including <a href="#scopes">Bean Scopes</a>, <a href="#qualifiers">Bean Qualifiers</a>, <a href="#conditionalBeans">Bean Conditions</a>, <a href="#validation">Validation Rules</a> and so on.</p>
</div>
<div class="paragraph">
<p>The following table summarizes the core Micronaut annotations and which are inherited and which are not:</p>
</div>
<table class="tableblock frame-topbot grid-all" style="width: 80%;">
<caption class="title">Table 1. Annotation Inheritance in Micronaut 3.x and above</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Annotation</th>
<th class="tableblock halign-left valign-top">Inherited</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.Adapter[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.Around[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.AroundConstruct[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.InterceptorBean[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.InterceptorBinding[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:aop.Introduction[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Blocking[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Creator[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.EntryPoint[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Experimental[] (source level)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Indexes[] &amp; ann:core.annotation.Indexed[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Internal[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Introspected[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.NonBlocking[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Nullable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.NonNull[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.Order[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.ReflectiveAccess[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.annotation.TypeHint[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.async.annotation.SingleResult[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.bind.annotation.Bindable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.convert.format.Format[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.convert.format.MapFormat[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.convert.format.ReadableBytes[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:core.version.annotation.Version[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.AliasFor[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Any[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Bean[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.BootstrapContextCompatible[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.ConfigurationBuilder[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.ConfigurationInject[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.ConfigurationProperties[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.ConfigurationReader[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Context[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.DefaultImplementation[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.DefaultScope[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.EachBean[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Executable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Factory[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.NonBinding[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Parallel[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Parameter[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Primary[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Property[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.PropertySource[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Prototype[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Replaces[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Requirements[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Requires[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Secondary[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Type[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:context.annotation.Value[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Controller[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Body[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Consumes[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.CookieValue[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.CustomHttpMethod[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Delete[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Error[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Filter[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.FilterMatcher[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Get[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Head[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Header[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Headers[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.HttpMethodMapping[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Options[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Part[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Patch[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.PathVariable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Post[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Produces[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Put[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.QueryValue[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.RequestAttribute[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.RequestAttributes[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.RequestBean[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Status[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.Trace[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.annotation.UriMapping[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:http.client.annotation.Client[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:jackson.annotation.JacksonFeatures[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Delete[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Endpoint[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Read[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Sensitive[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Selector[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.endpoint.annotation.Write[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.health.indicator.annotation.Liveness[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:management.health.indicator.annotation.Readiness[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageBody[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageHeader[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageHeaders[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageListener[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageMapping[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.MessageProducer[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:messaging.annotation.SendTo[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:retry.annotation.CircuitBreaker[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:retry.annotation.Fallback[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:retry.annotation.Recoverable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:retry.annotation.Retryable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:runtime.context.scope.Refreshable[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:runtime.context.scope.ScopedProxy[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:runtime.context.scope.ThreadLocal[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:runtime.event.annotation.EventListener[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:runtime.http.scope.RequestScope[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:scheduling.annotation.Async[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:scheduling.annotation.ExecuteOn[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:scheduling.annotation.Scheduled[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:session.annotation.SessionValue[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="{micronauttracingapi}/io/micronaut/tracing/annotation/ContinueSpan.html">@ContinueSpan</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="{micronauttracingapi}/io/micronaut/tracing/annotation/NewSpan.html">@NewSpan</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="{micronauttracingapi}/io/micronaut/tracing/annotation/SpanTag.html">@SpanTag</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:validation.Validated[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.ClientWebSocket[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.OnClose[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.OnError[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.OnMessage[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.OnOpen[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.ServerWebSocket[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.WebSocketComponent[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">❌</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ann:websocket.annotation.WebSocketMapping[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">✅</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When upgrading an application you may need to take action if you implement an interface or subclass a superclass and override a method.</p>
</div>
<div class="paragraph">
<p>For example the annotations defined in <code>jakarta.validation</code> are not inherited by default, so they must be defined again in any overridden or implemented methods.</p>
</div>
<div class="paragraph">
<p>This behaviour grants more flexibility if you need to redefine the validation rules. Note that it is still possible to inherit validation rules through meta-annotations. See the section on <a href="#annotationMetadata">Annotation Inheritance</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_error_response_format"><a class="anchor" href="#_error_response_format"></a>Error Response Format</h5>
<div class="paragraph">
<p>The default value of <code>jackson.always-serialize-errors-as-list</code> is now true. That means by default the Hateoas JSON errors will always be a list. For example:</p>
</div>
<div class="listingblock">
<div class="title">Example error response</div>
<div class="content">
<pre>{
  ...
  "_embedded": {
    "errors": [
      {
        "message": "Person.name: must not be blank"
      }
    ]
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>To revert to the previous behavior where a singular error was populated in the message field instead of including <code>_embedded.errors</code>, set the configuration setting to false.</p>
</div>
</div>
<div class="sect4">
<h5 id="_runtime_classpath_scanning_removed"><a class="anchor" href="#_runtime_classpath_scanning_removed"></a>Runtime Classpath Scanning Removed</h5>
<div class="paragraph">
<p>It is no longer possible to scan the classpath at runtime using the <code>scan</code> method of the api:context.env.Environment[] interface.</p>
</div>
<div class="paragraph">
<p>This functionality has not been needed for some time as scanning is implemented at build time through <a href="#introspection">Bean Introspections</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_inject_annotations"><a class="anchor" href="#_inject_annotations"></a>Inject Annotations</h5>
<div class="paragraph">
<p>Micronaut now provides the <code>jakarta.inject</code> annotations as a transitive dependency instead of the <code>javax.inject</code> annotations.
To continue using the old annotations, add the following dependency.</p>
</div>
<div class="paragraph">
<p>dependency:javax.inject:javax.inject:1[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_nullable_annotations"><a class="anchor" href="#_nullable_annotations"></a>Nullable Annotations</h5>
<div class="paragraph">
<p>Micronaut no longer exports any third party dependency for nullability annotations.
Micronaut now provides its own annotations for this purpose (api:core.annotation.Nullable[] and api:core.annotation.NonNull[]) that are used for our APIs.
To continue using other nullability annotations, simply add the relevant dependency.</p>
</div>
<div class="paragraph">
<p>Internally, Micronaut makes use of a third party annotation that may manifest as a warning in your project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">warning: unknown enum constant When.MAYBE
  reason: class file for javax.annotation.meta.When not found</code></pre>
</div>
</div>
<div class="paragraph">
<p>This warning is harmless and can be ignored. To eliminate this warning, add the following dependency to your project&#8217;s compile only classpath:</p>
</div>
<div class="paragraph">
<p>dependency:com.google.code.findbugs:jsr305[gradleScope="compileOnly"]</p>
</div>
</div>
<div class="sect4">
<h5 id="_server_filter_behavior"><a class="anchor" href="#_server_filter_behavior"></a>Server Filter Behavior</h5>
<div class="paragraph">
<p>In Micronaut 2 server filters could have been called multiple times in the case of an exception being thrown, or sometimes not at all if the error resulted before route execution.
This also allowed for filters to handle exceptions thrown from routes.
Filters have changed in Micronaut 3 to always be called exactly once for each request, under all conditions.
Exceptions are no longer propagated to filters and instead the resulting error response is passed through the reactive stream.</p>
</div>
<div class="paragraph">
<p>In the case of a response being created as a result of an exception, the original cause is now stored as a response attribute (api:http.HttpAttributes#EXCEPTION[]).
That attribute can be read by filters to have context for the error HTTP response.</p>
</div>
<div class="paragraph">
<p>The api:http.filter.OncePerRequestHttpServerFilter[] class is now deprecated and will be removed in the next major release.
The api:http.filter.OncePerRequestHttpServerFilter[] stores a request attribute when the filter is executed and some functionality may rely on that attribute existing.
The class will still create the attribute but it is recommended to instead create a custom attribute in your filter class and use that instead of the one created by api:http.filter.OncePerRequestHttpServerFilter[].</p>
</div>
<div class="paragraph">
<p>There is also a minor behavior change in when the response gets written.
Any modifications to the response after the underlying <code>onNext</code> call is made will not have any effect as the response has already been written.</p>
</div>
</div>
<div class="sect4">
<h5 id="_http_compile_time_validation"><a class="anchor" href="#_http_compile_time_validation"></a>HTTP Compile Time Validation</h5>
<div class="paragraph">
<p>Compile time validation of HTTP related classes has been moved to its own module. To continue validating controllers, websocket server classes add <code>http-validation</code> to the annotation processor classpath.</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut:micronaut-http-validation[gradleScope="annotationProcessor"]</p>
</div>
</div>
<div class="sect4">
<h5 id="_decapitalization_strategy"><a class="anchor" href="#_decapitalization_strategy"></a>Decapitalization Strategy</h5>
<div class="paragraph">
<p>For many cases, one common one being introspections, getter names like <code>getXForwarded()</code> would result in the bean property being <code>XForwarded</code>.
The name will now be <code>xForwarded</code>.
This can affect many areas of the framework where names like <code>XForwarded</code> are used.</p>
</div>
</div>
<div class="sect4">
<h5 id="_order_default"><a class="anchor" href="#_order_default"></a>@Order default</h5>
<div class="paragraph">
<p>Previously the default order value for the <code>@Order</code> annotation was the lowest precedence.
It is now 0.</p>
</div>
</div>
<div class="sect4">
<h5 id="_classes_renaming"><a class="anchor" href="#_classes_renaming"></a>Classes Renaming</h5>
<div class="ulist">
<ul>
<li>
<p><code>RxJavaRouteDataCollector</code> has been renamed to <code>DefaultRouteDataCollector</code>.</p>
</li>
<li>
<p><code>RxJavaBeanDefinitionDataCollector.html</code> has been renamed to <code>DefaultBeanDefinitionDataCollector</code>.</p>
</li>
<li>
<p><code>RxJavaHealthAggregator</code> has been renamed to <code>DefaultHealthAggregator</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_deprecation_removal"><a class="anchor" href="#_deprecation_removal"></a>Deprecation Removal</h5>
<div class="paragraph">
<p>Classes, constructors, etc. that have been deprecated in previous versions of Micronaut have been removed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_reflective_bean_map"><a class="anchor" href="#_reflective_bean_map"></a>Reflective Bean Map</h5>
<div class="paragraph">
<p>In several places in Micronaut, it is required to get a map representation of your object.
In previous versions, a reflection based strategy was used to retrieve that information if the class was not annotated with <code>@Introspected</code>.
That functionality has been removed and it is now required to annotate classes with <code>@Introspected</code> that are being used in this way.
Any class may be affected if it is passed as an argument or returned from any controller or client, among other use cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cookie_secure_configuration"><a class="anchor" href="#_cookie_secure_configuration"></a>Cookie Secure Configuration</h5>
<div class="paragraph">
<p>Previously the <code>secure</code> configuration for cookies was only respected if the request was determined to be sent over https.
Due to a number of factors including proxies, HTTPS requests can be presented to the server as if they are HTTP.
In those cases the setting was not having any effect.
The setting is now respected regardless of the status of the request.
If the setting is not set, cookies will be secure if the request is determined to be HTTPS.</p>
</div>
</div>
<div class="sect4">
<h5 id="_server_error_route_priority"><a class="anchor" href="#_server_error_route_priority"></a>Server Error Route Priority</h5>
<div class="paragraph">
<p>Previously if a route could not be satisfied, or an <code>HttpStatusException</code> was thrown, routes for the relevant HTTP status was searched before routes that handled the specific exception.
In Micronaut 3 routes that handle the exception will be searched first, then routes that handle the HTTP status.</p>
</div>
</div>
<div class="sect4">
<h5 id="_status_route_default_response_status"><a class="anchor" href="#_status_route_default_response_status"></a>Status Route Default Response Status</h5>
<div class="paragraph">
<p>Status error routes will now default to produce responses with the same HTTP status as specified in the <code>@Error</code> annotation.
In previous versions a 200 OK response was created.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">@Error(status = HttpStatus.UNSUPPORTED_MEDIA_TYPE)
String unsupportedMediaTypeHandler() {
    return "not supported";
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above method will result in a response of HTTP status 415 with a body of "not supported".
Previously it would have been a response of HTTP status 200 with a body of "not supported".
To specify the desired response status, either annotate the method with <code>@Status</code> or return an <code>HttpResponse</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_no_longer_possible_to_inject_a_list_of_provider"><a class="anchor" href="#_no_longer_possible_to_inject_a_list_of_provider"></a>No Longer Possible to Inject a <code>List</code> of <code>Provider</code></h5>
<div class="paragraph">
<p>In Micronaut 2.x it was possible to inject a <code>List&lt;javax.inject.Provider&gt;</code>, although this was undocumented behaviour.
In Micronaut 3.x injecting a list of <code>Provider</code> instances is no longer possible and you should instead use the api:context.BeanProvider[] API which provides <code>stream()</code> and <code>iterator()</code> methods to provide the same functionality.</p>
</div>
</div>
<div class="sect4">
<h5 id="_injecting_executorservice"><a class="anchor" href="#_injecting_executorservice"></a>Injecting ExecutorService</h5>
<div class="paragraph">
<p>In previous versions of Micronaut it was possible to inject an <a href="{jdkapi}/java/util/concurrent/ExecutorService.html">ExecutorService</a> without any qualifiers and the default Netty event loop group would be injected.
Because the event loop should not be used for general purpose use cases, the injection will now fail by default with a non unique bean exception.
The injection point should be qualified for which executor service is desired.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subclasses_returned_from_factories_not_injectable"><a class="anchor" href="#_subclasses_returned_from_factories_not_injectable"></a>Subclasses Returned From Factories Not Injectable</h5>
<div class="paragraph">
<p>It is no longer possible to inject the internal implementation type from beans produced via factories. The type returned from the factory or any of its super types are able to be injected.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import java.util.concurrent.ForkJoinPool;
import java.util.concurrent.ExecutorService;
import javax.inject.Singleton;

public class ExecutorFactory {
    @Singleton
    public ExecutorService executorService() {
        return ForkJoinPool.commonPool();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above case, if the <code>ExecutorService</code> had been already been retrieved from the context in previous logic, a call to <code>context.getBean(ForkJoinPool.class)</code> would locate the already created bean.
This behaviour was inconsistent because if the bean had not yet been created then this lookup would not work.
In Micronaut 3 for consistency this is no longer possible.</p>
</div>
<div class="paragraph">
<p>You can however restore the behaviour by changing the factory to return the implementation type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import java.util.concurrent.ForkJoinPool;
import java.util.concurrent.ExecutorService;
import javax.inject.Singleton;
public class ExecutorFactory {

    @Singleton
    public ForkJoinPool executorService() {
        return ForkJoinPool.commonPool();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_no_longer_possible_to_define_aop_advice_on_a_bean_produced_from_a_factory_with_constructor_arguments"><a class="anchor" href="#_no_longer_possible_to_define_aop_advice_on_a_bean_produced_from_a_factory_with_constructor_arguments"></a>No Longer Possible to Define AOP Advice on a Bean Produced from a Factory with Constructor arguments</h5>
<div class="paragraph">
<p>In previous versions of Micronaut it was possible to define AOP advice to a factory method that returned a class that featured constructor arguments.
This could lead to undefined behaviour since the argument of the generated proxy which would be dependency injected by the framework may be different from manually constructed proxy target.</p>
</div>
<div class="paragraph">
<p>The following definition is now invalid in Micronaut 3 and above and will lead to a compilation error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import io.micronaut.context.annotation.*;
import io.micronaut.runtime.context.scope.*;

@Factory
class ExampleFactory {

    @ThreadLocal
    Test test() {
        return new Test("foo");
    }
}

class Test {
    // illegally defines constructor arguments
    Test(String name) {}
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_implementations_of_javax_inject_provider_no_longer_generate_factories"><a class="anchor" href="#_implementations_of_javax_inject_provider_no_longer_generate_factories"></a>Implementations of <code>javax.inject.Provider</code> No Longer Generate Factories</h5>
<div class="paragraph">
<p>In Micronaut 2.x if you defined a bean that implemented the <code>javax.inject.Provider</code> interface then the return type of the <code>get</code> method also automatically became a bean.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import javax.inject.Provider;
import javax.inject.Singleton;

@Singleton
public class AProvider implements Provider&lt;A&gt; {
    @Override
    public A get() {
        return new AImpl();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example a bean of type <code>A</code> would automatically be exposed by Micronaut.
This behaviour is no longer supported and instead the ann:context.annotation.Factory[] annotation should be used to express the same behaviour.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import io.micronaut.context.annotation.Factory;
import javax.inject.Provider;
import javax.inject.Singleton;

@Factory
public class AProvider implements Provider&lt;A&gt; {
    @Override
    @Singleton
    public A get() {
        return new AImpl();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_fewer_executable_methods_generated_for_controllers_and_message_listeners"><a class="anchor" href="#_fewer_executable_methods_generated_for_controllers_and_message_listeners"></a>Fewer Executable Methods Generated for Controllers and Message Listeners</h5>
<div class="paragraph">
<p>Previous versions of Micronaut specified the ann:context.annotation.Executable[] annotation as a meta-annotation on the ann:http.annotation.Controller[], ann:http.annotation.Filter[] and ann:messaging.annotation.MessageListener[] annotations.
This resulted in generating executable method all non-private methods of classes annotated with these annotations.</p>
</div>
<div class="paragraph">
<p>In Micronaut 3.x and above the ann:context.annotation.Executable[] has been moved to a meta-annotation of ann:http.annotation.HttpMethodMapping[] and ann:messaging.annotation.MessageMapping[] instead to reduce memory consumption and improve efficiency.</p>
</div>
<div class="paragraph">
<p>If you were relying on the presence of these executable methods you must explicitly annotate methods in your classes with ann:context.annotation.Executable[] to restore this behaviour.</p>
</div>
</div>
<div class="sect4">
<h5 id="_graalvm_changes"><a class="anchor" href="#_graalvm_changes"></a>GraalVM changes</h5>
<div class="paragraph">
<p>In previous versions of Micronaut annotating a class with <code>@Introspected</code> automatically added it to the GraalVM <code>reflect-config.json</code> file.
The original intended usage of the annotation is to generate <a href="#introspection">Bean Introspection Metadata</a> so Micronaut can instantiate the class and call getters and setters without using reflection.</p>
</div>
<div class="paragraph">
<p>Starting in Micronaut 3.x the <code>@Introspected</code> annotation doesn&#8217;t add the class to the GraalVM <code>reflect-config.json</code> file anymore, because in most of the cases is not really necessary.
If you need to declare a class to be accessed by reflection, use the <code>@ReflectiveAccess</code> annotation instead.</p>
</div>
<div class="paragraph">
<p>Another change is regarding the GraalVM resources created at compile-time. In previous versions of Micronaut adding a dependency on <code>io.micronaut:micronaut-graal</code> triggered the generation of the GraalVM <code>resource-config.json</code> that included all the resources in <code>src/main/resources</code> so they were included in the native image. Starting in Micronaut 3.x that is done in either the Gradle or Maven plugins.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exception_handler_moves"><a class="anchor" href="#_exception_handler_moves"></a>Exception Handler Moves</h4>
<div class="paragraph">
<p>Two exception handlers that were in <code>micronaut-server-netty</code> have now been moved to <code>micronaut-server</code> since they were not specific to Netty. Their package has also changed as a result.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Package changes</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Old</th>
<th class="tableblock halign-left valign-top">New</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-server-netty/src/main/java/io/micronaut/http/server/netty/converters/DuplicateRouteHandler.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-server/src/main/java/io/micronaut/http/server/exceptions/DuplicateRouteHandler.java</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-server-netty/src/main/java/io/micronaut/http/server/netty/converters/UnsatisfiedRouteHandler.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-server/src/main/java/io/micronaut/http/server/exceptions/UnsatisfiedRouteHandler.java</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_module_changes"><a class="anchor" href="#_module_changes"></a>Module Changes</h4>
<div class="sect4">
<h5 id="_new_package_for_micronaut_cassandra"><a class="anchor" href="#_new_package_for_micronaut_cassandra"></a>New package for Micronaut Cassandra</h5>
<div class="paragraph">
<p>The classes in Micronaut Cassandra have been moved from <code>io.micronaut.configuration.cassandra</code> to <code>io.micronaut.cassandra</code> package.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_security_2"><a class="anchor" href="#_micronaut_security_2"></a>Micronaut Security</h5>
<div class="paragraph">
<p>Many of the APIs in the Micronaut Security module have undergone changes. Please see the <a href="https://micronaut-projects.github.io/micronaut-security/{micronautSecurityVersion}/guide">Micronaut Security</a> documentation for the details.</p>
</div>
</div>
<div class="sect4">
<h5 id="_groovy_changes"><a class="anchor" href="#_groovy_changes"></a>Groovy changes</h5>
<div class="paragraph">
<p>In previous version the missing property wouldn&#8217;t set the field value to <code>null</code> as it would do for the Java code, in the version 3 it should behave in the same way.</p>
</div>
<div class="paragraph">
<p>Please refactor to use the default value in the <code>@Value</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Nullable
@Value('${greeting}')
protected String before = "Default greeting"

@Nullable
@Value('${greeting:Default greeting}')
protected String after</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_5_0"><a class="anchor" href="#_micronaut_framework_2_5_0"></a>Micronaut Framework 2.5.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_5_0"><a class="anchor" href="#_whats_new_with_2_5_0"></a>What&#8217;s new with 2.5.0</h3>
<div class="sect3">
<h4 id="_core_features_3"><a class="anchor" href="#_core_features_3"></a>Core Features</h4>
<div class="sect4">
<h5 id="_io_stream_support"><a class="anchor" href="#_io_stream_support"></a>IO Stream Support</h5>
<div class="paragraph">
<p>It is now possible to define a body argument of a controller method with an InputStream. For example <code>@Body InputStream inputStream</code>. Note that you must offload the execution to another thread pool to avoid blocking the event loop when reading the stream. <code>InputStream</code> can also be returned from controller methods.</p>
</div>
</div>
<div class="sect4">
<h5 id="_http_to_https_redirect_with_dual_protocol"><a class="anchor" href="#_http_to_https_redirect_with_dual_protocol"></a>HTTP to HTTPS redirect with Dual Protocol</h5>
<div class="paragraph">
<p>If Dual Protocol is enabled, now it is possible to redirect all HTTP requests automatically to the HTTPS port. See more information <a href="#dualProtocol">about how to enable and configure it</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_graalvm_21_1_0_support"><a class="anchor" href="#_graalvm_21_1_0_support"></a>GraalVM 21.1.0 Support</h5>
<div class="paragraph">
<p>Micronaut has been updated to support the latest GraalVM 21.1.0 release with the Gradle and Maven plugins now defaulting to 21.1.0.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_jdk_16_and_gradle_7_0_in_micronaut_launch"><a class="anchor" href="#_support_for_jdk_16_and_gradle_7_0_in_micronaut_launch"></a>Support for JDK 16 and Gradle 7.0 in Micronaut Launch</h5>
<div class="paragraph">
<p><a href="https://micronaut.io/launch/">Micronaut Launch</a> has been updated with support for JDK 16 and Gradle 7.0.</p>
</div>
</div>
<div class="sect4">
<h5 id="_random_configuration_values_2"><a class="anchor" href="#_random_configuration_values_2"></a>Random Configuration Values</h5>
<div class="paragraph">
<p>It is now possible to set a max and a range for random numbers in configuration. For example to set an integer between 0 and 9, <code>${random.int(10)}</code> can be used as the configuration value. See the <a href="#propertySource">documentation</a> under "Using Random Properties" for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_5"><a class="anchor" href="#_module_upgrades_5"></a>Module Upgrades</h4>
<div class="sect4">
<h5 id="_micronaut_data_2_4_0"><a class="anchor" href="#_micronaut_data_2_4_0"></a>Micronaut Data 2.4.0</h5>
<div class="paragraph">
<p>Huge <a href="https://micronaut-projects.github.io/micronaut-data/latest/guide/">Micronaut Data</a> update including many new features including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Full support for immutable entities. You can use Java 16 records or Kotlin immutable data classes</p>
</li>
<li>
<p>Integrated support for R2DBC, now the <code>data-r2dbc</code> module is a part of the data project and shares the same code with JDBC</p>
</li>
<li>
<p>Optimistic locking for JDBC/R2DBC</p>
</li>
<li>
<p>Repositories now support batch insert/update/delete even with a custom query</p>
</li>
<li>
<p>Rewritten entity mapper allows more complex mapping for JDBC/R2DBC entities</p>
</li>
<li>
<p>Support for <code>@JoinTable</code> and <code>@JoinColumn</code> annotations</p>
</li>
<li>
<p>A lot of bugfixes!</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_micrometer_3_4_0"><a class="anchor" href="#_micronaut_micrometer_3_4_0"></a>Micronaut Micrometer 3.4.0</h5>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/">Micrometer module</a> has been upgraded and now supports repeated definitions of the <a href="https://micrometer.io/docs/concepts#_the_timed_annotation">@Timed</a> annotation as well as also supporting the <code>@Counted</code> annotation for counters when you add the <code>micronaut-micrometer-annotation</code> dependency to your annotation processor classpath.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_oracle_cloud_1_3_0"><a class="anchor" href="#_micronaut_oracle_cloud_1_3_0"></a>Micronaut Oracle Cloud 1.3.0</h5>
<div class="paragraph">
<p>Micronaut&#8217;s <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/">Oracle Cloud Integration</a> has been updated with support for Cloud Monitoring and Tracing.</p>
</div>
</div>
<div class="sect4">
<h5 id="_other_modules_2"><a class="anchor" href="#_other_modules_2"></a>Other Modules</h5>
<div class="ulist">
<ul>
<li>
<p>Micronaut Security 2.4.2</p>
</li>
<li>
<p>Micronaut Azure 2.2.0</p>
</li>
<li>
<p>Micronaut Aws 2.6.0</p>
</li>
<li>
<p>Micronaut Grpc 2.4.0</p>
</li>
<li>
<p>Micronaut OpenApi 2.4.0</p>
</li>
<li>
<p>Micronaut Kafka 3.3.0</p>
</li>
<li>
<p>Micronaut Flyway 3.6.0</p>
</li>
<li>
<p>Micronaut Liquibase 3.3.1</p>
</li>
<li>
<p>Micronaut Discovery Client 2.4.0</p>
</li>
<li>
<p>Micronaut ElasticSearch 2.3.0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_2"><a class="anchor" href="#_dependency_upgrades_2"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Kafka 2.8.0</p>
</li>
<li>
<p>GraalVM 21.1.0</p>
</li>
<li>
<p>Liquibase 4.3.4</p>
</li>
<li>
<p>Flyway 7.7.3</p>
</li>
<li>
<p>Elasticsearch 7.12.0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_5_0_breaking_changes"><a class="anchor" href="#_2_5_0_breaking_changes"></a>2.5.0 Breaking Changes</h3>
<div class="paragraph">
<p>In previous versions of Micronaut it was possible to read the body of a request in a server filter under some conditions. Reading the request body in a filter has historically been inconsistent because the body is not read in many cases. In Micronaut 2.4, the body was read until the route arguments were satisfied, and then the server filters were executed. This lead to issues with memory leaks in some cases and is inefficient because a filter may skip route execution altogether by not proceeding the chain, thus the body did not need to be read. In Micronaut 2.5 the body will not be read until after filters are executed. This may lead to cases where the body was available in a filter and is no longer available.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_4_0"><a class="anchor" href="#_micronaut_framework_2_4_0"></a>Micronaut Framework 2.4.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_4_0"><a class="anchor" href="#_whats_new_with_2_4_0"></a>What&#8217;s new with 2.4.0</h3>
<div class="sect3">
<h4 id="_core_features_4"><a class="anchor" href="#_core_features_4"></a>Core Features</h4>
<div class="sect4">
<h5 id="_jakarta_inject_2"><a class="anchor" href="#_jakarta_inject_2"></a>Jakarta Inject</h5>
<div class="paragraph">
<p>The <code>jakarta.inject</code> inject annotations are now supported as an alternative to <code>javax.inject</code>. Micronaut 3 will change the default inject annotations to Jakarta, however the javax annotations will continue to be supported if added to your build explicitly.</p>
</div>
<div class="paragraph">
<p>Micronaut 3 will change the bean context API to return our custom provider contract, api:context.BeanProvider[]. We suggest existing applications to change to use that interface instead of <code>javax.inject.Provider</code>, however both the <code>jakarta.inject.Provider</code> and <code>javax.inject.Provider</code> interfaces will continue to be supported.</p>
</div>
</div>
<div class="sect4">
<h5 id="_core_nullability_annotations"><a class="anchor" href="#_core_nullability_annotations"></a>Core Nullability Annotations</h5>
<div class="paragraph">
<p>With the future of JSR-305 unclear and issues with regards to the module system with existing solutions, Micronaut 2.4 will replace usages of Spotbugs with core nullability annotations: ann:core.annotation.Nullable[] and ann:core.annotation.NotNull[].</p>
</div>
<div class="paragraph">
<p>Existing applications should switch to using these annotations. If other annotations are preferable, the dependency should be added explicitly to your build because no third party <code>Nullable</code> or <code>NonNull</code> annotations will be available transitively in the next major version.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_interceptor_binding"><a class="anchor" href="#_improvements_to_interceptor_binding"></a>Improvements to Interceptor Binding</h5>
<div class="paragraph">
<p>Micronaut&#8217;s support for AOP interceptors has been improved allowing interceptors to be attached to any annotation through the use of api:inject.annotation.AnnotationMapper[] instances. It is also now possible to bind multiple api:aop.MethodInterceptor[] instances to a single annotation instead of there being a 1-to-1 mapping between annotation and interceptor.</p>
</div>
<div class="paragraph">
<p>From 2.4.x onwards the recommending way to define AOP advise is to use the ann:aop.InterceptorBinding[] annotation on the annotation you wish to trigger AOP advise:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.aop.around.NotNull[tags="imports,annotation", indent=0, title="Around Advice Annotation Example"]</p>
</div>
<div class="paragraph">
<p>Then use ann:aop.InterceptorBean[] on the api:aop.MethodInterceptor[] you wish to bind to the above advise:</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.aop.around.NotNullInterceptor[tags="imports,interceptor", indent=0, title="MethodInterceptor Example"]</p>
</div>
<div class="paragraph">
<p>Multiple api:aop.MethodInterceptor[] types can bind to a single advise annotation and any given interceptor can bind to multiple annotations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_json_error_responses"><a class="anchor" href="#_json_error_responses"></a>JSON Error Responses</h5>
<div class="paragraph">
<p>In previous versions of Micronaut, to control the format of error response bodies, it required replacing all of the existing api:http.server.exceptions.ExceptionHandler[] instances. In Micronaut 2.4, the logic to create error response bodies has been moved to a single bean that implements api:http.server.exceptions.response.ErrorResponseProcessor[]. Now instead of having to replace many beans to have a consistent format, only a single bean needs to be replaced. The default implementation behaves the same as in previous versions to maintain backward compatibility.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_data_2"><a class="anchor" href="#_micronaut_data_2"></a>Micronaut Data</h4>
<div class="sect4">
<h5 id="_support_for_java_14_records_with_jdbc"><a class="anchor" href="#_support_for_java_14_records_with_jdbc"></a>Support for Java 14+ Records with JDBC</h5>
<div class="paragraph">
<p>Micronaut Data JDBC now <a href="https://micronaut-projects.github.io/micronaut-data/latest/guide/#javaRecords">supports using Java 14+ records to represent persistent entities</a>, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package example;

import edu.umd.cs.findbugs.annotations.Nullable;
import io.micronaut.data.annotation.*;
import java.util.Date;

@MappedEntity
record Book(
        @Id @GeneratedValue @Nullable Long id,
        @DateCreated @Nullable Date dateCreated,
        String title,
        int pages) {
    Book(String title, int pages) {
        this(null, null, title, pages)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_persistence_events_support"><a class="anchor" href="#_persistence_events_support"></a>Persistence Events Support</h5>
<div class="paragraph">
<p>Micronaut Data JPA, JDBC and R2DBC now support <a href="https://micronaut-projects.github.io/micronaut-data/latest/guide/#entityEvents">persistence events</a> on either entities or Micronaut beans. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package example;

import io.micronaut.data.annotation.event.PrePersist;
import javax.inject.Singleton;

@Singleton
public class AccountUsernameValidator {
    @PrePersist
    void validateUsername(Account account) {
        final String username = account.getUsername();
        if (username == null || !username.matches("[a-z0-9]+")) {
            throw new IllegalArgumentException("Invalid username");
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_integration_with_oracle_coherence_ce"><a class="anchor" href="#_integration_with_oracle_coherence_ce"></a>Integration with Oracle Coherence CE</h4>
<div class="paragraph">
<p>We are pleased to announce a first milestone release of Micronaut integration with Oracle Coherence Community Edition, which makes implementation of Micronaut applications with a Coherence back end a breeze.</p>
</div>
<div class="paragraph">
<p>Below are some of the features supported by the various modules within <code>micronaut-coherence</code> project:</p>
</div>
<div class="sect4">
<h5 id="_micronaut_data_support"><a class="anchor" href="#_micronaut_data_support"></a>Micronaut Data Support</h5>
<div class="paragraph">
<p>The <code>micronaut-coherence-data</code> module alows you to use <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#repository">Micronaut Data with Coherence as a back end data store</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_injection_of_coherence_managed_objects"><a class="anchor" href="#_dependency_injection_of_coherence_managed_objects"></a>Dependency Injection of Coherence-managed Objects</h5>
<div class="paragraph">
<p>A new <code>micronaut-coherence</code> module provides factories for commonly used Coherence objects, such as <code>Cluster</code>, <code>Session</code>, <code>NamedMap</code>, <code>NamedCache</code>, <code>NamedTopic</code>, and many others, which allows you to <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#injection">easily inject those objects</a> into your application classes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_listeners_for_coherence_events"><a class="anchor" href="#_listeners_for_coherence_events"></a>Listeners for Coherence Events</h5>
<div class="paragraph">
<p>The <code>micronaut-coherence</code> module also provides support for Coherence <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#coherenceEvents">server-</a> and <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#mapEvents">client-side</a> events via Micronaut event listeners.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_messaging_support"><a class="anchor" href="#_micronaut_messaging_support"></a>Micronaut Messaging Support</h5>
<div class="paragraph">
<p>Finally, the <code>micronaut-coherence</code> module provides support for <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#messagingWithTopics">Micronaut Messaging using Coherence Topics</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_caching_support"><a class="anchor" href="#_micronaut_caching_support"></a>Micronaut Caching Support</h5>
<div class="paragraph">
<p>The <code>micronaut-coherence-cache</code> module adds support for <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#cache">using Coherence as a back end for Micronaut Cache</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_distributed_config_support"><a class="anchor" href="#_micronaut_distributed_config_support"></a>Micronaut Distributed Config Support</h5>
<div class="paragraph">
<p>The <code>micronaut-coherence-distributed-configuration</code> module adds support for <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#distributedConfiguration">using Coherence as a store for Micronaut Distributed Configuration</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_http_sessions_support"><a class="anchor" href="#_micronaut_http_sessions_support"></a>Micronaut HTTP Sessions Support</h5>
<div class="paragraph">
<p>The <code>micronaut-coherence-session</code> module adds support for <a href="https://micronaut-projects.github.io/micronaut-coherence/latest/guide/#coherenceHttpSessions">using Coherence as a store for Micronaut HTTP Sessions</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cloud_features"><a class="anchor" href="#_cloud_features"></a>Cloud Features</h4>
<div class="sect4">
<h5 id="_easier_configuration_of_oracle_cloud_autonomous_database"><a class="anchor" href="#_easier_configuration_of_oracle_cloud_autonomous_database"></a>Easier Configuration of Oracle Cloud Autonomous Database</h5>
<div class="paragraph">
<p>A new <code>micronaut-oraclecloud-atp</code> has been added that makes it easier to <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#autonomousDatabase">automatically download the Oracle Wallet definition and connect to Autonomous Database</a> on Oracle Cloud.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_oracle_cloud_monitoring_via_micrometer"><a class="anchor" href="#_support_for_oracle_cloud_monitoring_via_micrometer"></a>Support for Oracle Cloud Monitoring via Micrometer</h5>
<div class="paragraph">
<p>A new <code>micronaut-oraclecloud-micrometer</code> module has been added that adds support for <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#micrometer">exporting Micrometer metrics to Oracle Cloud</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_official_kubernetes_client"><a class="anchor" href="#_official_kubernetes_client"></a>Official Kubernetes Client</h5>
<div class="paragraph">
<p>With the new <code>micronaut-kubernetes-client</code> module you can now inject apis objects from the <a href="https://github.com/kubernetes-client/java">official Kubernetes Java SDK</a> as regular beans.</p>
</div>
<div class="paragraph">
<p>In Micronaut 3 this new module will be used as primary kubernetes client, making the current one deprecated.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_aws"><a class="anchor" href="#_micronaut_aws"></a>Micronaut AWS</h5>
<div class="paragraph">
<p>Micronaut AWS now includes the new AWS SDK v2 that has support for GraalVM out of the box. Every service included in the module like S3, Parameter Store, SES, SQS,&#8230;&#8203; is now compatible with Micronaut-GraalVM integration.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_6"><a class="anchor" href="#_module_upgrades_6"></a>Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut Oracle Cloud <code>1.1.1</code> &#8594; <code>1.2.1</code></p>
</li>
<li>
<p>Micronaut Data <code>2.2.4</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut R2DBC <code>1.0.1</code> &#8594; <code>1.1.0</code></p>
</li>
<li>
<p>Micronaut Kubernetes <code>2.2.0</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut AWS <code>2.3.0</code> &#8594; <code>2.4.0</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_3"><a class="anchor" href="#_dependency_upgrades_3"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Jaeger Version <code>1.3.1</code> &#8594; <code>1.5.0</code></p>
</li>
<li>
<p>Zipkin Version <code>2.15.0</code> &#8594; <code>2.16.3</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_4_0_breaking_changes"><a class="anchor" href="#_2_4_0_breaking_changes"></a>2.4.0 Breaking Changes</h3>
<div class="paragraph">
<p>Methods annotated with <code>@CircuitBreaker</code> that used the <code>includes</code> or <code>excludes</code> members were not functioning correctly. The circuit breaker was opening for exceptions that did not match the supplied exception types. This has been changed to correctly respect the includes and excludes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_3_0"><a class="anchor" href="#_micronaut_framework_2_3_0"></a>Micronaut Framework 2.3.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_3_0"><a class="anchor" href="#_whats_new_with_2_3_0"></a>What&#8217;s new with 2.3.0</h3>
<div class="sect3">
<h4 id="_core_features_5"><a class="anchor" href="#_core_features_5"></a>Core Features</h4>
<div class="sect4">
<h5 id="_banner"><a class="anchor" href="#_banner"></a>Banner</h5>
<div class="paragraph">
<p>A new customizable banner is now displayed when the application starts up. See <a href="#_micronaut_banner">Micronaut Banner</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_compatibility_with_graalvm_21_0_0"><a class="anchor" href="#_compatibility_with_graalvm_21_0_0"></a>Compatibility with GraalVM 21.0.0</h5>
<div class="paragraph">
<p>This release is compatible with the latest GraalVM 21.0.0 release, updating and testing all modules against the latest version of native image.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improved_support_for_records"><a class="anchor" href="#_improved_support_for_records"></a>Improved Support for Records</h5>
<div class="paragraph">
<p>Java 14+ Records can now be used to define <a href="#configurationProperties">Configuration Properties</a>. By default when <code>@ConfigurationProperties</code> is used on a <code>record</code>, configuration injection is applied. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">package example;
import io.micronaut.context.annotation.*;
import javax.validation.constraints.*;

@ConfigurationProperties("example")
record Example(@Min(20) int num, String name) {
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_bean_introspections_now_support_execution_handles"><a class="anchor" href="#_bean_introspections_now_support_execution_handles"></a>Bean Introspections Now Support Execution Handles</h5>
<div class="paragraph">
<p>A api:core.beans.BeanIntrospection[] can now declare methods that should generate reflection-free execution handles. This feature allows calling other methods (besides setters) on introspections without using reflection.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improved_support_for_copy_constructors_and_immutable_types"><a class="anchor" href="#_improved_support_for_copy_constructors_and_immutable_types"></a>Improved Support for Copy Constructors and Immutable Types</h5>
<div class="paragraph">
<p>An immutable api:core.beans.BeanIntrospection[] (like Java Records as mentioned above) requires different handling when you need to create a new instance with a particular property modified. A typical pattern for this is to construct a new instance passing all existing values plus the modified value (see for example <a href="https://projectlombok.org/features/With">Lombok&#8217;s @With</a>).</p>
</div>
<div class="paragraph">
<p>Micronaut&#8217;s Bean Introspections now support this pattern. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">val introspection = BeanIntrospection.getIntrospection(Example.java);
Example example = introspection.instantiate(10, "Test");
assertEquals(10, example.num());
example = introspection.getRequiredProperty("num", int.class)
             .withValue(example, 20);
assertEquals(20, example.num());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new <code>withValue</code> method automatically creates a new instance, populating the existing properties and returning the instance.</p>
</div>
<div class="paragraph">
<p>Micronaut computes at compile time an efficient copy-constructor approach that only returns a new instance if the value changes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_http_features_3"><a class="anchor" href="#_http_features_3"></a>HTTP Features</h4>
<div class="sect4">
<h5 id="_locale_resolution"><a class="anchor" href="#_locale_resolution"></a>Locale Resolution</h5>
<div class="paragraph">
<p>A new interface api:http.server.util.HttpLocaleResolver[] has been introduced to support resolving a locale from a given request in multiple ways. A <code>java.util.Locale</code> object can now be a parameter to controller and client methods to automatically bind the locale to/from the request. See <a href="#localeResolution">the documentation</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_host_resolution"><a class="anchor" href="#_host_resolution"></a>Host Resolution</h5>
<div class="paragraph">
<p>It is now possible to validate a resolved host against a list of regular expressions patterns. See <a href="#hostResolution">the documentation</a> for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cloud_features_2"><a class="anchor" href="#_cloud_features_2"></a>Cloud Features</h4>
<div class="sect4">
<h5 id="_new_cicd_deployment_workflows_for_github_actions_in_launch"><a class="anchor" href="#_new_cicd_deployment_workflows_for_github_actions_in_launch"></a>New CI/CD Deployment Workflows for Github Actions in Launch</h5>
<div class="paragraph">
<p><a href="https://micronaut.io/launch/">Micronaut Launch</a> has been updated to include CI/CD workflows to deploy to common container-based Cloud environments including Oracle Cloud Function, Azure Container Instance and Google Cloud Run.</p>
</div>
<div class="paragraph">
<p>Combined with the ability to <a href="https://www.youtube.com/watch?v=X4AKGf1TlXM">Push to Github</a> this makes it a breeze to set up Micronaut applications to be deployed to the Cloud.</p>
</div>
</div>
<div class="sect4">
<h5 id="_google_cloud_secret_manager"><a class="anchor" href="#_google_cloud_secret_manager"></a>Google Cloud Secret Manager</h5>
<div class="paragraph">
<p>Thanks to a contribution by <a href="https://github.com/viniciusccarvalho">Vinicius Carvalho</a>, <a href="https://micronaut-projects.github.io/micronaut-gcp/latest/guide/#introduction">Micronaut GCP</a> supports <a href="https://micronaut-projects.github.io/micronaut-gcp/latest/guide/#secretManager">distributed configuration via Google Cloud Secret Manager</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_jms"><a class="anchor" href="#_micronaut_jms"></a>Micronaut JMS</h4>
<div class="paragraph">
<p>A new <a href="https://micronaut-projects.github.io/micronaut-jms/1.0.x/guide/">Micronaut JMS module</a> (currently in preview) to support JMS messaging including ActiveMQ and Amazon SQS has been added with full support for GraalVM native image. See the <a href="https://micronaut-projects.github.io/micronaut-jms/1.0.x/guide/">Micronaut JMS documentation</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_other_improvements"><a class="anchor" href="#_other_improvements"></a>Other improvements</h4>
<div class="paragraph">
<p>While Micronaut has always followed the <a href="https://semver.org/">Semantic Versioning</a> principles, our non-stable versioning didn&#8217;t match the specification. For example, our snapshots were versioned as <code>1.2.3.BUILD-SNAPSHOT</code> as opposed to <code>1.2.3-SNAPSHOT</code>.</p>
</div>
<div class="paragraph">
<p>Since Micronaut 2.3, all our artifacts' non-stable versions will be like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Snapshots: <code>1.2.3-SNAPSHOT</code>.</p>
</li>
<li>
<p>Milestones: <code>1.2.3-M1</code>, <code>1.2.3-M2</code>, etc.</p>
</li>
<li>
<p>Release candidates: <code>1.2.3-RC1</code>, <code>1.2.3-RC2</code>, etc.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_7"><a class="anchor" href="#_module_upgrades_7"></a>Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut XML <code>2.1.0</code> &#8594; <code>2.2.1</code></p>
</li>
<li>
<p>Micronaut Cache <code>2.2.0</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut Security <code>2.2.2</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut Spring <code>2.1.2</code> &#8594; <code>3.2.0</code></p>
</li>
<li>
<p>Micronaut GCP <code>3.3.0</code> &#8594; <code>3.4.0</code></p>
</li>
<li>
<p>Micronaut AWS <code>2.2.5</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut OpenAPI <code>2.2.2</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut SQL <code>3.3.5</code> &#8594; <code>3.4.0</code></p>
</li>
<li>
<p>Micronaut Views <code>2.1.0</code> &#8594; <code>2.2.1</code></p>
</li>
<li>
<p>Micronaut Test <code>2.2.1</code> &#8594; <code>2.3.2</code></p>
</li>
<li>
<p>Micronaut PicoCLI <code>3.1.0</code> &#8594; <code>3.2.0</code></p>
</li>
<li>
<p>Micronaut RabbitMQ <code>2.2.2</code> &#8594; <code>2.3.2</code></p>
</li>
<li>
<p>Micronaut Flyway <code>3.1.0</code> &#8594; <code>3.3.0</code></p>
</li>
<li>
<p>Micronaut Kubernetes <code>2.1.0</code> &#8594; <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Multitenancy <code>2.2.3</code> &#8594; <code>3.0.0</code> (Group ID changed to <code>io.micronaut.multitenancy</code>)</p>
</li>
<li>
<p>Micronaut JMS (new) <code>1.0.0.M1</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_4"><a class="anchor" href="#_dependency_upgrades_4"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>PicoCLI <code>4.5.2</code> &#8594; <code>4.6.1</code></p>
</li>
<li>
<p>Caffeine <code>2.8.6</code> &#8594; <code>2.8.8</code></p>
</li>
<li>
<p>Netty <code>4.1.56.Final</code> &#8594; <code>4.1.58.Final</code></p>
</li>
<li>
<p>Spring <code>5.2.9.RELEASE</code> &#8594; <code>5.3.1</code></p>
</li>
<li>
<p>Spring Boot <code>2.3.4.RELEASE</code> &#8594; <code>2.4.0</code></p>
</li>
<li>
<p>GraalVM <code>20.3.0</code> &#8594; <code>21.0.0</code></p>
</li>
<li>
<p>Tomcat JDBC <code>9.0.40</code> &#8594; <code>9.0.41</code></p>
</li>
<li>
<p>Flyway <code>7.0.4</code> &#8594; <code>7.4.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_3_0_breaking_changes"><a class="anchor" href="#_2_3_0_breaking_changes"></a>2.3.0 Breaking Changes</h3>
<div class="paragraph">
<p>The <code>micronaut.server.multipart.enabled</code> setting previously was not respected for the Netty server implementation. The setting is now honored and if explicitly set to false, all multipart requests will be rejected.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_2_0"><a class="anchor" href="#_micronaut_framework_2_2_0"></a>Micronaut Framework 2.2.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_2_0"><a class="anchor" href="#_whats_new_with_2_2_0"></a>What&#8217;s new with 2.2.0</h3>
<div class="sect3">
<h4 id="_build_features"><a class="anchor" href="#_build_features"></a>Build Features</h4>
<div class="sect4">
<h5 id="_maven_plugin_improvements"><a class="anchor" href="#_maven_plugin_improvements"></a>Maven Plugin Improvements</h5>
<div class="paragraph">
<p>The Maven plugin now supports different <code>&lt;packaging&gt;</code> types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jar</code> (default): produces a runnable fat JAR.</p>
</li>
<li>
<p><code>native-image</code>: generates a GraalVM native image.</p>
</li>
<li>
<p><code>docker</code>: builds a Docker image with the application artifacts (compiled classes, resources, dependencies, etc).</p>
</li>
<li>
<p><code>docker-native</code>: builds a Docker image with a GraalVM native image inside.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To package an application, <code>mvn package</code> is the one-stop shop to produce the desired artifact.</p>
</div>
<div class="paragraph">
<p>It also supports using <code>mvn deploy</code> as the only command required to deploy an application that, depending on the <code>&lt;packaging&gt;</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jar</code> (default): will deploy the artifact to a remote repository using <code>org.apache.maven.plugins:maven-deploy-plugin:deploy</code>.</p>
</li>
<li>
<p><code>docker</code> or <code>docker-native</code>: will push the Docker image to the configured Docker registry.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Read more information in the <a href="https://micronaut-projects.github.io/micronaut-maven-plugin/latest">Maven Plugin documentation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gradle_plugin_improvements"><a class="anchor" href="#_gradle_plugin_improvements"></a>Gradle Plugin Improvements</h5>
<div class="paragraph">
<p>The Gradle plugin has a new <code>testNativeImage</code> task that builds the GraalVM Native Image and uses the native application as an embedded server enabling the ability to write native integration tests.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_launch_enhancements"><a class="anchor" href="#_micronaut_launch_enhancements"></a>Micronaut Launch Enhancements</h4>
<div class="sect4">
<h5 id="_support_for_kotlin_gradle_builds"><a class="anchor" href="#_support_for_kotlin_gradle_builds"></a>Support for Kotlin Gradle Builds</h5>
<div class="paragraph">
<p>It is now possible to create applications that use <code>build.gradle.kts</code> instead of <code>build.gradle</code> using the <code>--build</code> argument of the CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ mn create-app demo --build gradle_kotlin &amp;&amp; cd demo
$ ./gradlew test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or via the Micronaut Launch API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl https://launch.micronaut.io/demo.zip?build=gradle_kotlin -o demo.zip &amp;&amp; unzip demo.zip -d demo &amp;&amp; cd demo
$ ./gradlew test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_push_to_github"><a class="anchor" href="#_push_to_github"></a>Push to Github</h5>
<div class="paragraph">
<p>It is now possible to create an application with and <a href="https://micronaut.io/launch/">Micronaut Launch</a> and have it pushed automatically to a repository in your Github account. When generating an application just select the "Push to Github" option.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_new_micronaut_modules"><a class="anchor" href="#_new_micronaut_modules"></a>New Micronaut Modules</h4>
<div class="sect4">
<h5 id="_mqtt_support"><a class="anchor" href="#_mqtt_support"></a>MQTT Support</h5>
<div class="paragraph">
<p>Improving the experience in IoT use cases, Micronaut now has integration with MQTT similar to the integration with Kafka and RabbitMQ. See the <a href="https://micronaut-projects.github.io/micronaut-mqtt/latest/guide/">Micronaut MQTT documentation</a> to get started.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_data_r2dbc"><a class="anchor" href="#_micronaut_data_r2dbc"></a>Micronaut Data R2DBC</h5>
<div class="paragraph">
<p>A new module that adds support for R2DBC (Reactive Database Connectivity) has been added in preview status. Micronaut Data R2DBC lets you define reactive data repositories using R2DBC that work with any of the supported drivers and include support for GraalVM Native Image.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-r2dbc/1.0.x/guide/">Documentation for Micronaut R2DBC</a> for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_8"><a class="anchor" href="#_module_upgrades_8"></a>Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut Acme <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Aws <code>2.2.3</code></p>
</li>
<li>
<p>Micronaut Azure <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Cache <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Cassandra <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Data <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut DiscoveryClient <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut ElasticSearch <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Flyway <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Gcp <code>3.3.0</code></p>
</li>
<li>
<p>Micronaut GraphQL <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Groovy <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut gRPC <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Hibernate Validator <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut Jmx <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Kafka <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Kotlin <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Liquibase <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut MQTT <code>1.0.0</code></p>
</li>
<li>
<p>Micronaut Micrometer <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Mongo <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut NatsIo <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Neo4j <code>4.1.0</code></p>
</li>
<li>
<p>Micronaut OpenApi <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Oracle Cloud <code>1.1.0</code></p>
</li>
<li>
<p>Micronaut Picocli <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut R2DBC <code>1.0.0.M2</code></p>
</li>
<li>
<p>Micronaut RabbitMQ <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Reactor <code>1.1.0</code></p>
</li>
<li>
<p>Micronaut Redis <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Rss <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Rss <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut RxJava3 <code>1.1.0</code></p>
</li>
<li>
<p>Micronaut Security <code>2.1.4</code></p>
</li>
<li>
<p>Micronaut Security <code>2.2.0</code></p>
</li>
<li>
<p>Micronaut Servlet <code>2.1.1</code></p>
</li>
<li>
<p>Micronaut Sql <code>3.3.1</code></p>
</li>
<li>
<p>Micronaut Test <code>2.2.1</code></p>
</li>
<li>
<p>Micronaut Views <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Xml <code>2.1.0</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_5"><a class="anchor" href="#_dependency_upgrades_5"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Caffeine <code>2.8.6</code></p>
</li>
<li>
<p>Eclipse Paho v3 <code>1.2.5</code></p>
</li>
<li>
<p>Eclipse Paho v5 <code>1.2.5</code></p>
</li>
<li>
<p>Elasticsearch <code>7.9.3</code></p>
</li>
<li>
<p>Flyway <code>7.0.4</code></p>
</li>
<li>
<p>gRPC <code>1.33.1</code></p>
</li>
<li>
<p>Hibernate <code>5.4.23.Final</code></p>
</li>
<li>
<p>Kafka <code>2.6.0</code></p>
</li>
<li>
<p>Kotlin Coroutines <code>1.4.1</code></p>
</li>
<li>
<p>Ktor <code>1.4.1</code></p>
</li>
<li>
<p>Liquibase <code>4.2.0</code></p>
</li>
<li>
<p>Lombok <code>1.18.16</code></p>
</li>
<li>
<p>Oracle JDBC Driver <code>19.8.0.0</code></p>
</li>
<li>
<p>Picocli <code>4.5.2</code></p>
</li>
<li>
<p>Protobuf <code>3.14.0</code></p>
</li>
<li>
<p>Reactor <code>3.4.0</code></p>
</li>
<li>
<p>Swagger <code>2.1.5</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_2_0_breaking_changes"><a class="anchor" href="#_2_2_0_breaking_changes"></a>2.2.0 Breaking Changes</h3>
<div class="paragraph">
<p>Kotlin suspend functions in controllers that return null now correctly respond with a 404. This behavior was inconsistent with other return types in previous versions and returned a 200 OK response.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_1_0"><a class="anchor" href="#_micronaut_framework_2_1_0"></a>Micronaut Framework 2.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_1_0"><a class="anchor" href="#_whats_new_with_2_1_0"></a>What&#8217;s new with 2.1.0</h3>
<div class="sect3">
<h4 id="_core_features_6"><a class="anchor" href="#_core_features_6"></a>Core Features</h4>
<div class="sect4">
<h5 id="_introspections_for_jdk_14_records"><a class="anchor" href="#_introspections_for_jdk_14_records"></a>Introspections for JDK 14 Records</h5>
<div class="paragraph">
<p>It is now possible to define <a href="#introspection">bean introspections</a> on JDK 14+ record types (note these currently require the <code>––enable–preview</code> flag to the compiler and JVM).</p>
</div>
</div>
<div class="sect4">
<h5 id="_client_kotlin"><a class="anchor" href="#_client_kotlin"></a>@Client + Kotlin</h5>
<div class="paragraph">
<p>@Client interfaces now support suspend methods!</p>
</div>
</div>
<div class="sect4">
<h5 id="_default_environment"><a class="anchor" href="#_default_environment"></a>Default Environment</h5>
<div class="paragraph">
<p>Micronaut 2.1 introduces the concept of a default environment. One or more default environments can be set and they will apply if no other environments are explicitly specified or deduced. See the <a href="#environments">environments documentation</a> for information on how to use this new feature.</p>
</div>
</div>
<div class="sect4">
<h5 id="_order_annotation"><a class="anchor" href="#_order_annotation"></a>@Order Annotation</h5>
<div class="paragraph">
<p>The ann:core.annotation.Order[] annotation has been added to support supplying bean order for factory methods or for those who prefer the use of annotations over the api:core.order.Ordered[] interface.</p>
</div>
</div>
<div class="sect4">
<h5 id="_kotlin_1_4"><a class="anchor" href="#_kotlin_1_4"></a>Kotlin 1.4</h5>
<div class="paragraph">
<p>Micronaut now ships with Kotlin 1.4 for those users using Kotlin.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build_features_2"><a class="anchor" href="#_build_features_2"></a>Build Features</h4>
<div class="sect4">
<h5 id="_new_gradle_plugin"><a class="anchor" href="#_new_gradle_plugin"></a>New Gradle Plugin</h5>
<div class="paragraph">
<p>A new Gradle plugin is available that provides a more expressive way to define a Micronaut application and includes awesome new features for GraalVM Native Image and Docker. The minimum required build to build a Micronaut application is now:</p>
</div>
<div class="listingblock">
<div class="title">Micronaut Minimal Gradle Build</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">plugins {
     id 'io.micronaut.application' version '{version}'
}
repositories {
    jcenter()
    mavenCentral()
}

micronaut {
    version = "2.1.0" // The Micronaut Version
    runtime "netty" // Using the Netty runtime
}
mainClassName = "example.Application" // Your main class</code></pre>
</div>
</div>
<div class="paragraph">
<p>Building a Native Image is then as simple as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ ./gradlew nativeImage</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whilst building a docker image using GraalVM Native Image can be done with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ ./gradlew dockerBuildNative

# Or to push a native image to a Docker registry
$ ./gradlew dockerPushNative</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_web_features"><a class="anchor" href="#_web_features"></a>Web Features</h4>
<div class="sect4">
<h5 id="_client_binding_api"><a class="anchor" href="#_client_binding_api"></a>Client Binding API</h5>
<div class="paragraph">
<p>A new API has been created to allow for binding declarative HTTP client method arguments to an HTTP request. See the <a href="#clientParameters">documentation</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_websocket_improvements"><a class="anchor" href="#_websocket_improvements"></a>Websocket Improvements</h5>
<div class="paragraph">
<p>Query parameters are now respected and bindable in the Micronaut websocket support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_httpresponse_improvements"><a class="anchor" href="#_httpresponse_improvements"></a>HttpResponse Improvements</h5>
<div class="paragraph">
<p>Cookies in HTTP responses from the client side are now retrievable on the HttpResponse. These are the cookies found in the <code>Set-Cookie</code> header.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cloud_features_3"><a class="anchor" href="#_cloud_features_3"></a>Cloud Features</h4>
<div class="sect4">
<h5 id="_support_for_oracle_cloud_sdk"><a class="anchor" href="#_support_for_oracle_cloud_sdk"></a>Support for Oracle Cloud SDK</h5>
<div class="paragraph">
<p>A new GraalVM Native Image compatible <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/">module for Oracle Cloud SDK</a> has been added allowing you to use any part of the Oracle Cloud SDK with Native Image and also enhancing the SDK with RxJava 2 support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_oracle_function"><a class="anchor" href="#_support_for_oracle_function"></a>Support for Oracle Function</h5>
<div class="paragraph">
<p>Support has been added for building <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#functions">Oracle Functions</a> deployable to Oracle Cloud including the ability to compute the functions in native images using GraalVM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_google_pubsub"><a class="anchor" href="#_support_for_google_pubsub"></a>Support for Google Pub/Sub</h5>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/viniciusccarvalho">Vinicius Carvalho</a> at Google, Micronaut now features dedicated support for <a href="https://micronaut-projects.github.io/micronaut-gcp/latest/guide/#pubsub">Google Pub/Sub</a> for seamless messaging in Google Cloud.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_google_cloud_log_format"><a class="anchor" href="#_support_for_google_cloud_log_format"></a>Support for Google Cloud Log Format</h5>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/viniciusccarvalho">Vinicius Carvalho</a> at Google, Micronaut can now <a href="https://micronaut-projects.github.io/micronaut-gcp/latest/guide/#logging">output logs in the official JSON format</a> supported by Stackdriver on Google Cloud</p>
</div>
</div>
<div class="sect4">
<h5 id="_livenessreadiness_probes"><a class="anchor" href="#_livenessreadiness_probes"></a>Liveness/Readiness Probes</h5>
<div class="paragraph">
<p>Micronaut&#8217;s <code>/health</code> endpoint now allows you to distinguish liveness and readiness probes at the URIs <code>/health/liveness</code> and <code>/health/readiness</code>. Micronaut Launch&#8217;s Kubernetes support has been updated to generate a Kubenetes descriptor that is configured to with these probe endpoints by default.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_upgrades_9"><a class="anchor" href="#_module_upgrades_9"></a>Module Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Micronaut AWS <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Acme <code>2.0.0</code></p>
</li>
<li>
<p>Micronaut Azure <code>2.0.1</code></p>
</li>
<li>
<p>Micronaut Cache <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Cassandra <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut Data <code>2.0.0</code></p>
</li>
<li>
<p>Micronaut Elasticsearch <code>2.0.1</code></p>
</li>
<li>
<p>Micronaut Flyway <code>2.1.1</code></p>
</li>
<li>
<p>Micronaut GCP <code>3.2.1</code></p>
</li>
<li>
<p>Micronaut GraphQL <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Groovy <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut gRPC <code>2.0.5</code></p>
</li>
<li>
<p>Micronaut Ignite <code>1.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Kafka <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut Kotlin <code>2.1.1</code></p>
</li>
<li>
<p>Micronaut Liquibase <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Micrometer <code>3.0.1</code></p>
</li>
<li>
<p>Micronaut Mongo <code>DB 3.0.0</code></p>
</li>
<li>
<p>Micronaut Neo4j <code>4.0.0</code></p>
</li>
<li>
<p>Micronaut Open <code>API 2.1.0</code></p>
</li>
<li>
<p>Micronaut Oracle <code>Cloud 1.0.0</code></p>
</li>
<li>
<p>Micronaut Picocli <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut RabbitMQ <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Redis <code>3.0.0</code></p>
</li>
<li>
<p>Micronaut Security <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Servlet <code>2.0.0</code></p>
</li>
<li>
<p>Micronaut Sql <code>3.1.0</code></p>
</li>
<li>
<p>Micronaut Test <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Xml <code>2.0.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dependency_upgrades_6"><a class="anchor" href="#_dependency_upgrades_6"></a>Dependency Upgrades</h3>
<div class="ulist">
<ul>
<li>
<p>Commons Dbcp <code>2.8.0</code></p>
</li>
<li>
<p>Dekorate <code>1.0.3</code></p>
</li>
<li>
<p>Elasticsearch <code>7.8.1</code></p>
</li>
<li>
<p>Flyway <code>6.5.4</code></p>
</li>
<li>
<p>gRPC <code>1.32.1</code></p>
</li>
<li>
<p>Hibernate <code>5.4.21.Final</code></p>
</li>
<li>
<p>Ignite <code>2.8.1</code></p>
</li>
<li>
<p>JUnit <code>5.7.0</code></p>
</li>
<li>
<p>Kotlin <code>1.4.10</code></p>
</li>
<li>
<p>Ktor <code>1.4.0</code></p>
</li>
<li>
<p>Liquibase <code>3.10.2</code></p>
</li>
<li>
<p>MSSQL Driver <code>8.4.1.jre8</code></p>
</li>
<li>
<p>MariaDB Driver <code>2.6.2</code></p>
</li>
<li>
<p>Micrometer <code>1.5.5</code></p>
</li>
<li>
<p>Mongo Driver <code>4.1.0</code></p>
</li>
<li>
<p>Mongo Reactive Driver <code>4.1.0</code></p>
</li>
<li>
<p>Neo4j Driver <code>4.1.1</code></p>
</li>
<li>
<p>Netty <code>4.1.52.Final</code></p>
</li>
<li>
<p>Picocli <code>4.5.1</code></p>
</li>
<li>
<p>Postgres Driver <code>42.2.16</code></p>
</li>
<li>
<p>Redis Lettuce <code>5.3.4.RELEASE</code></p>
</li>
<li>
<p>Tomcat Jdbc <code>9.0.38</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_2_0_0"><a class="anchor" href="#_micronaut_framework_2_0_0"></a>Micronaut Framework 2.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_2_0_0"><a class="anchor" href="#_whats_new_with_2_0_0"></a>What&#8217;s new with 2.0.0</h3>
<div class="sect3">
<h4 id="_core_features_7"><a class="anchor" href="#_core_features_7"></a>Core Features</h4>
<div class="sect4">
<h5 id="_support_for_jdk_14"><a class="anchor" href="#_support_for_jdk_14"></a>Support for JDK 14</h5>
<div class="paragraph">
<p>Micronaut has been updated to support JDK 14.</p>
</div>
</div>
<div class="sect4">
<h5 id="_groovy_3"><a class="anchor" href="#_groovy_3"></a>Groovy 3</h5>
<div class="paragraph">
<p>Micronaut now supports applications written in Groovy 3.</p>
</div>
</div>
<div class="sect4">
<h5 id="_startup_performance_improvements"><a class="anchor" href="#_startup_performance_improvements"></a>Startup Performance Improvements</h5>
<div class="paragraph">
<p>Startup time has been further improved in this release with typical startup time for a new application around 20% faster.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_bean_introspections"><a class="anchor" href="#_improvements_to_bean_introspections"></a>Improvements to Bean Introspections</h5>
<div class="paragraph">
<p>Bean introspections have been improved to support static creator methods, interfaces and enums. This means you can define a bean introspection on an interface with a private implementation such as:</p>
</div>
<div class="listingblock">
<div class="title">Introspections on interfaces</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import io.micronaut.core.annotation.Creator;

@io.micronaut.core.annotation.Introspected
interface Example {
    String getName();

    @Creator
    static Example create(String name) {
        return () -&gt; name;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_analyzing_the_injection_point"><a class="anchor" href="#_support_for_analyzing_the_injection_point"></a>Support for Analyzing the Injection Point</h5>
<div class="paragraph">
<p>Micronaut&#8217;s Dependency Injection implementation has been improved such that you can now receive an api:inject.InjectionPoint[] instance to any ann:context.annotation.Factory[] method. This makes it possible to customize how the bean is created based on the annotation metadata at the point at which the bean is injected.</p>
</div>
<div class="paragraph">
<p>For example consider the following definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Inject @Client("http://foo.com") RxHttpClient client;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A factory method can receive the injection point and create a client based off of the value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Bean
protected DefaultHttpClient httpClient(InjectionPoint&lt;?&gt; injectionPoint) {
    String url = metadata.stringValue(Client.class).orElse(null);
    if (url != null) {
        ......
        URL parsedUrl = new URL(url) //handle exception
        return new DefaultHttpClient(parsedUrl);
    } else {
        return new DefaultHttpClient();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_eager_initialization_of_beans"><a class="anchor" href="#_support_for_eager_initialization_of_beans"></a>Support for Eager Initialization of Beans</h5>
<div class="paragraph">
<p>Eager initialization of beans is useful in certain cases, such as on AWS Lambda where more CPU resources are assigned to Lamdba construction than execution. Therefore as for Micronaut 2.0, you can specify whether you want to eager initialization configuration or all singletons using the api:context.ApplicationContextBuilder[] interface:</p>
</div>
<div class="listingblock">
<div class="title">Enabling Eager Initialization</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class Application {

    public static void main(String[] args) {
        Micronaut.build(args)
            .eagerInitSingletons(true) // <b class="conum">(1)</b>
            .mainClass(Application.class)
            .start();
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Setting eager init to true initializes all singletons</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is also possible to just eager init configuration using <code>eagerInitConfiguration</code> which will initialize all ann:context.annotation.ConfigurationProperties[] beans.</p>
</div>
</div>
<div class="sect4">
<h5 id="_spot_bugs_instead_of_jsr_305_nullablenonnull_annotations"><a class="anchor" href="#_spot_bugs_instead_of_jsr_305_nullablenonnull_annotations"></a>Spot Bugs Instead of JSR-305 Nullable/NonNull Annotations</h5>
<div class="paragraph">
<p>In Micronaut 1.x the Google distributed JSR-305 annotations library (<code>com.google.code.findbugs:jsr305</code>) was used to specify <code>@Nullable</code> and <code>@NonNull</code> on interfaces of the Micronaut API using the annotations contained within the <code>javax.annotation</code> package.</p>
</div>
<div class="paragraph">
<p>Due to the fact that JSR-305 has been cancelled and that this dependency has potential licensing issues (by using the <code>javax</code> namespace) as well as problems with the cross packages on Java 9+ with the module system Micronaut 2.x switches to the <code>spotbugs-annotations</code> module provided by the <a href="https://spotbugs.github.io/">SpotBugs project</a>.</p>
</div>
<div class="paragraph">
<p>It is recommended users of Micronaut use this API instead (although the <code>javax.annotation.Nullable</code> and <code>javax.annotation.NotNull</code> annotations continue to be supported).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cli_features"><a class="anchor" href="#_cli_features"></a>CLI Features</h4>
<div class="sect4">
<h5 id="_new_native_cli"><a class="anchor" href="#_new_native_cli"></a>New Native CLI</h5>
<div class="paragraph">
<p>Micronaut&#8217;s <code>mn</code> command for the CLI has been rewritten in Micronaut itself and is now compiled into a native image <a href="https://github.com/micronaut-projects/micronaut-starter/releases/tag/v{version}">available on Linux, MacOS X and Windows</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_launch"><a class="anchor" href="#_micronaut_launch"></a>Micronaut Launch</h5>
<div class="paragraph">
<p>Create Micronaut 2.0 applications without having the CLI installed using <code>curl</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl https://launch.micronaut.io/demo.zip -o demo.zip
$ unzip demo.zip -d demo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or by visiting <a href="https://launch.micronaut.io" class="bare">https://launch.micronaut.io</a> in your browser.</p>
</div>
<div class="paragraph">
<p>Run <code>curl <a href="https://launch.micronaut.io" class="bare">https://launch.micronaut.io</a></code> for more instructions on how to use the API or visit the <a href="https://launch.micronaut.io/swagger/views/swagger-ui/index.html">OpenAPI documentation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_diff_command"><a class="anchor" href="#_diff_command"></a>Diff Command</h5>
<div class="paragraph">
<p>Run <code>mn feature-diff --features=[FEATURE NAME]</code> from the root of another Micronaut project to create a diff of the changes that need to be applied to enable the feature. For example:</p>
</div>
<div class="listingblock">
<div class="title">Using <code>feature-diff</code></div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ mn feature-diff --features=azure-function
--- micronaut-cli.yml
+++ micronaut-cli.yml
@@ -3,4 +3,4 @@
 testFramework: junit
 sourceLanguage: java
 buildTool: gradle
-features: [app-name, application, gradle, http-client, java, junit, logback, netty-server, shade, yaml]
+features: [app-name, application, azure-function, azure-function-http, gradle, java, junit, logback, yaml]


--- host.json
+++ host.json
@@ -1,0 +1,7 @@
+{
+  "version": "2.0",
+  "extensionBundle": {
+    "id": "Microsoft.Azure.Functions.ExtensionBundle",
+    "version": "[1.*, 2.0.0)"
+  }
+}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graalvm_improvements"><a class="anchor" href="#_graalvm_improvements"></a>GraalVM Improvements</h4>
<div class="paragraph">
<p>Micronaut&#8217;s support for GraalVM Native Image has been moved out of experimental status, which solidifies our commitment to continue improving support for native images.</p>
</div>
<div class="sect4">
<h5 id="_automatic_static_resource_detection_for_native_image"><a class="anchor" href="#_automatic_static_resource_detection_for_native_image"></a>Automatic Static Resource Detection for Native Image</h5>
<div class="paragraph">
<p>It is not longer necessary to configure static resources for your Native Image builds. The <code>micronaut-graal</code> annotation processor will automatically do this for you for all resources found in <code>src/main/resources</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improved_support_for_jdbc_hibernate_in_native_image"><a class="anchor" href="#_improved_support_for_jdbc_hibernate_in_native_image"></a>Improved support for JDBC / Hibernate in Native Image</h5>
<div class="paragraph">
<p>It is no longer necessary to provide additional GraalVM related configuration to connect to databases via JDBC or Hibernate/JPA. Micronaut includes automatic support for the following drivers with GraalVM Native Image:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Oracle</p>
</li>
<li>
<p>MariaDB</p>
</li>
<li>
<p>Postgres</p>
</li>
<li>
<p>MS SQL</p>
</li>
<li>
<p>H2</p>
</li>
<li>
<p>MySQL</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_flyway_migrations_in_native_image"><a class="anchor" href="#_support_for_flyway_migrations_in_native_image"></a>Support for Flyway Migrations in Native Image</h5>
<div class="paragraph">
<p>The Micronaut Flyway module has been <a href="https://micronaut-projects.github.io/micronaut-flyway/2.0.x/guide/index.html#graalvm">updated with GraalVM Native Image support</a> so you can now run database migrations in Native Image.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_native_image_in_aws_sdk_v2"><a class="anchor" href="#_support_for_native_image_in_aws_sdk_v2"></a>Support for Native Image in AWS SDK v2</h5>
<div class="paragraph">
<p>Version 2.0 of the Micronaut AWS module <a href="https://micronaut-projects.github.io/micronaut-aws/2.0.x/guide/index.html#sdkv2">includes support for Native Image</a> for the majority of the v2 AWS APIs including S3, Dynamo DB, SES, SNS, and SQS which will be helpful for those developing native AWS Lambda functions with Micronaut + GraalVM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_jooq_in_native_image"><a class="anchor" href="#_support_for_jooq_in_native_image"></a>Support for jOOQ in Native Image</h5>
<div class="paragraph">
<p>The Micronaut jOOQ module <a href="https://micronaut-projects.github.io/micronaut-sql/latest/guide/index.html#_graalvm_native_image">includes support for Native Image</a> and it&#8217;s possible to use it with <a href="https://simpleflatmapper.org/">SimpleFlatMapper</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_redis_in_native_image"><a class="anchor" href="#_support_for_redis_in_native_image"></a>Support for Redis in Native Image</h5>
<div class="paragraph">
<p>The Micronaut Redis module <a href="https://micronaut-projects.github.io/micronaut-redis/latest/guide/index.html#graalvm">includes support for Native Image</a>. There are still some pending uses cases that won&#8217;t work because of how Lettuce driver works. Make sure you read the documentation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_elasticsearch_in_native_image"><a class="anchor" href="#_support_for_elasticsearch_in_native_image"></a>Support for Elasticsearch in Native Image</h5>
<div class="paragraph">
<p>The Micronaut Elasticsearch module <a href="https://micronaut-projects.github.io/micronaut-elasticsearch/latest/guide/index.html#graalvm">includes support for Native Image</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build_improvements"><a class="anchor" href="#_build_improvements"></a>Build Improvements</h4>
<div class="sect4">
<h5 id="_new_maven_parent_pom"><a class="anchor" href="#_new_maven_parent_pom"></a>New Maven Parent POM</h5>
<div class="paragraph">
<p>Micronaut now provides a new parent POM that can be used in Maven projects to get setup quickly:</p>
</div>
<div class="listingblock">
<div class="title">Using the Maven Parent POM</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;parent&gt;
    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;
    &lt;version&gt;${micronaut.version}&lt;/version&gt;
&lt;/parent&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_new_maven_plugin"><a class="anchor" href="#_new_maven_plugin"></a>New Maven Plugin</h5>
<div class="paragraph">
<p>The parent POM mentioned above includes a new Micronaut Maven Plugin that enables automatic application restart during development. Just run the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ ./mvnw mn:run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whenever you make a change to a class file the server will restart automatically.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gradle_6_5_update"><a class="anchor" href="#_gradle_6_5_update"></a>Gradle 6.5 Update</h5>
<div class="paragraph">
<p>For Gradle users who create new applications Gradle 6.5 is used which is compatible with JDK 14.</p>
</div>
</div>
<div class="sect4">
<h5 id="_better_gradle_incremental_annotation_processing_support"><a class="anchor" href="#_better_gradle_incremental_annotation_processing_support"></a>Better Gradle Incremental Annotation Processing Support</h5>
<div class="paragraph">
<p>Gradle builds with Micronaut 2 for both Java and Kotlin should be significantly faster thanks to improved support for <a href="https://docs.gradle.org/current/userguide/java_plugin.html#sec:incremental_annotation_processing">Gradle incremental annotation processing</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_http_features_4"><a class="anchor" href="#_http_features_4"></a>HTTP Features</h4>
<div class="sect4">
<h5 id="_support_for_http2"><a class="anchor" href="#_support_for_http2"></a>Support for HTTP/2</h5>
<div class="paragraph">
<p>Micronaut&#8217;s Netty-based HTTP client and server have been updated to support HTTP/2.</p>
</div>
<div class="paragraph">
<p>See the <a href="#http2Server">HTTP/2 documentation</a> for more information on how to enable support for HTTP/2.</p>
</div>
</div>
<div class="sect4">
<h5 id="_threading_model_and_event_loop_group_improvements"><a class="anchor" href="#_threading_model_and_event_loop_group_improvements"></a>Threading Model and Event Loop Group Improvements</h5>
<div class="paragraph">
<p>Micronaut 2.0 uses a new shared default Netty <code>EventLoopGroup</code> for server worker threads and client request threads. This reduces context switching and improves resource utilization.</p>
</div>
<div class="paragraph">
<p>See the <a href="#clientConfiguration">HTTP Client Configuration</a> section for information on how to configure the default <code>EventLoopGroup</code> and add additional `EventLoopGroup&#8217;s that are configured per client.</p>
</div>
<div class="paragraph">
<p>In addition, as of Micronaut 2.0 all operations are by default executed on the <code>EventLoop</code> and users can optionally use the new ann:scheduling.annotation.ExecuteOn[] annotation to specify a named executor to execute an operation on if required (for example to offload blocking operations such as interactions with JPA/JDBC to a specific thread pool).</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_requestbean"><a class="anchor" href="#_support_for_requestbean"></a>Support for <code>@RequestBean</code></h5>
<div class="paragraph">
<p>It is now possible to bind the properties of a POJO argument to a <code>@Controller</code> to request parameters, headers and so on using the ann:http.annotation.RequestBean[] annotation.</p>
</div>
<div class="paragraph">
<p>Thanks to Github user <a href="https://github.com/asodja">asodja</a> for this contribution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_servlet"><a class="anchor" href="#_micronaut_servlet"></a>Micronaut Servlet</h5>
<div class="paragraph">
<p>Micronaut now includes support for creating <a href="https://github.com/micronaut-projects/micronaut-servlet">Servlet applications</a> and users can use the command line to create an application that targets popular Servlet containers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ mn create-app myapp --features jetty-server    # for Jetty
$ mn create-app myapp --features tomcat-server   # for Tomcat
$ mn create-app myapp --features undertow-server # for Undertow</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_improved_support_for_server_side_content_negotiation"><a class="anchor" href="#_improved_support_for_server_side_content_negotiation"></a>Improved Support for Server-Side Content Negotiation</h5>
<div class="paragraph">
<p>Micronaut will now correctly handle the HTTP <code>Accept</code> header and pick the most appropriate route for the specified accepted media types using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation">Server-Side Content Negotiation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This also applies to <code>@Error</code> routes making it possible to send different error responses for different content types
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To add XML support use the <a href="https://github.com/micronaut-projects/micronaut-jackson-xml">Jackson XML</a> module
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_improved_support_for_cloud_foundry"><a class="anchor" href="#_improved_support_for_cloud_foundry"></a>Improved Support for Cloud Foundry</h5>
<div class="paragraph">
<p>Micronaut will now process the <code>VCAP_APPLICATION</code> and <code>VCAP_SERVICES</code> environment variables and treat them as property sources.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/fnonnenmacher">Fabian Nonnenmacher</a> for this contribution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_http_client_improvements"><a class="anchor" href="#_http_client_improvements"></a>HTTP Client Improvements</h5>
<div class="paragraph">
<p>It is no longer necessary to use <code>@Client(..)</code> to inject a default api:http.client.RxHttpClient[] instance. You can now inject the default client simply with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Inject RxHttpClient client;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no host is provided at the time of a request, a api:http.client.exceptions.NoHostException[] will be thrown.</p>
</div>
</div>
<div class="sect4">
<h5 id="_api_for_proxying_requests"><a class="anchor" href="#_api_for_proxying_requests"></a>API for Proxying Requests</h5>
<div class="paragraph">
<p>A new API for writing API gateways and proxying requests has been added. See the documentation on the <a href="#proxyClient">ProxyHttpClient</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_endpoint_sensitivity"><a class="anchor" href="#_endpoint_sensitivity"></a>Endpoint Sensitivity</h5>
<div class="paragraph">
<p>It is now possible to control the sensitivity of individual endpoint methods. The ann:io.micronaut.management.endpoint.annotation.Sensitive[] annotation can be applied to endpoint methods to allow for some methods to have a different sensitivity than the value supplied to the endpoint annotation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_instrumentation"><a class="anchor" href="#_improvements_to_instrumentation"></a>Improvements to Instrumentation</h5>
<div class="paragraph">
<p>The Instrumentation mechanism for RxJava 2 has been improved to address issues with MDC and reduce the size of reactive stack traces. Thanks to <a href="https://github.com/dstepanov">Denis Stepanov</a> and <a href="https://github.com/lgathy">Lajos Gathy</a> for their contributions in this area.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kotlin_improvements"><a class="anchor" href="#_kotlin_improvements"></a>Kotlin Improvements</h4>
<div class="sect4">
<h5 id="_support_for_ktor_in_micronaut_launch"><a class="anchor" href="#_support_for_ktor_in_micronaut_launch"></a>Support for KTOR in Micronaut Launch</h5>
<div class="paragraph">
<p>You can generate a Micronaut + <a href="https://ktor.io/">Ktor</a> application from <a href="https://micronaut.io/launch/">Micronaut Launch</a> or via the command line.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_kotlin_extensions"><a class="anchor" href="#_micronaut_kotlin_extensions"></a>Micronaut Kotlin Extensions</h5>
<div class="paragraph">
<p>New <a href="https://micronaut-projects.github.io/micronaut-kotlin/1.0.x/guide/#extensionFunctions">Kotlin Extension Functions</a> are available that make the Kotlin + Micronaut experience that little bit better.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_serverless_improvements"><a class="anchor" href="#_serverless_improvements"></a>Serverless Improvements</h4>
<div class="sect4">
<h5 id="_support_for_google_cloud_function"><a class="anchor" href="#_support_for_google_cloud_function"></a>Support for Google Cloud Function</h5>
<div class="paragraph">
<p>You can now write Serverless functions that target Google Cloud Function using Micronaut. See the <a href="https://micronaut-projects.github.io/micronaut-gcp/2.0.x/guide/">Micronaut GCP</a> documentation and <a href="https://github.com/micronaut-projects/micronaut-gcp/tree/master/examples/hello-world-cloud-function">example application</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_support_for_microsoft_azure_function"><a class="anchor" href="#_support_for_microsoft_azure_function"></a>Support for Microsoft Azure Function</h5>
<div class="paragraph">
<p>You can now write Serverless functions that target Microsoft Azure using Micronaut. See the <a href="https://micronaut-projects.github.io/micronaut-azure/1.0.x/guide/">Micronaut Azure</a> documentation and <a href="https://github.com/micronaut-projects/micronaut-azure/tree/master/examples/azure-functions-example">example application</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_improvements_to_micronaut_aws"><a class="anchor" href="#_improvements_to_micronaut_aws"></a>Improvements to Micronaut AWS</h5>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-aws/2.0.x/guide/#whatsNew">Micronaut AWS 2.0.0</a> includes a number of improvements to support for AWS Lambda and AWS in general including new client modules for AWS SDK 2.0, cold start improvements on Lambda and improvements to the support for Amazon Alexa.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_improvements"><a class="anchor" href="#_module_improvements"></a>Module Improvements</h4>
<div class="paragraph">
<p>Micronaut is more modular than ever, with several components now available in separate modules and upgrades to those modules.</p>
</div>
<div class="sect4">
<h5 id="_micronaut_cache_2_0_0_upgrade"><a class="anchor" href="#_micronaut_cache_2_0_0_upgrade"></a>Micronaut Cache 2.0.0 Upgrade</h5>
<div class="paragraph">
<p>Caching has been moved into a separate module and out of <code>micronaut-runtime</code>. If you need caching (including the annotations within <code>io.micronaut.cache.annotation</code>) you just need to add the individual module for the cache provider you are interested (for example Caffeine, Redis, Hazelcast etc.).</p>
</div>
<div class="paragraph">
<p>See the documentation for the <a href="https://micronaut-projects.github.io/micronaut-cache/2.0.x/guide/">Cache module</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_sql_2_3_0_upgrade"><a class="anchor" href="#_micronaut_sql_2_3_0_upgrade"></a>Micronaut SQL 2.3.0 Upgrade</h5>
<div class="paragraph">
<p>Micronaut SQL has been improved to default to Micronaut transaction management (making Spring management optional) and includes <a href="https://micronaut-projects.github.io/micronaut-sql/2.3.x/guide/#jdbi">support for Jdbi</a> (Thanks to <a href="https://github.com/drmaas">Dan Maas</a> for this contribution).</p>
</div>
<div class="paragraph">
<p>In addition, support has been added for <a href="https://micronaut-projects.github.io/micronaut-sql/2.3.x/guide/#jdbc">Oracle Universal Connection Pool</a>. Thanks to <a href="https://github.com/recursivecodes">Todd Sharp</a> for this contribution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_micronaut_security_2_0_0_upgrade"><a class="anchor" href="#_micronaut_security_2_0_0_upgrade"></a>Micronaut Security 2.0.0 Upgrade</h5>
<div class="paragraph">
<p>The security module has seen many changes to improve the API and introduce new features to support a wider array of use cases.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-security/2.0.x/guide">Security module</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_reactive_modules"><a class="anchor" href="#_new_reactive_modules"></a>New Reactive Modules</h5>
<div class="paragraph">
<p>Whilst RxJava 2 remains the default, individual modules for other reactive libraries have been added.</p>
</div>
<div class="paragraph">
<p>For RxJava 3:</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut.rxjava3:micronaut-rxjava3[]</p>
</div>
<div class="paragraph">
<p>For Reactor:</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut.reactor:micronaut-reactor[]</p>
</div>
<div class="paragraph">
<p>And legacy support for RxJava 1:</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut.rxjava1:micronaut-rxjava1[]</p>
</div>
<div class="paragraph">
<p>Included within the new RxJava 3 and Reactor modules are variants of api:http.client.RxHttpClient[] called <code>Rx3HttpClient</code> and <code>ReactorHttpClient</code> respectively.</p>
</div>
<div class="paragraph">
<p>To use the RxJava 3 HTTP client add the following dependency:</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut.rxjava3:micronaut-rxjava3-http-client[]</p>
</div>
<div class="paragraph">
<p>To use the Reactor HTTP client add:</p>
</div>
<div class="paragraph">
<p>dependency:io.micronaut.rxjava3:micronaut-reactor-http-client[]</p>
</div>
</div>
<div class="sect4">
<h5 id="_new_micronaut_nats_module"><a class="anchor" href="#_new_micronaut_nats_module"></a>New Micronaut NATS module</h5>
<div class="paragraph">
<p>A new messaging module for <a href="https://nats.io">Nats.io</a> has been included in Micronaut core.</p>
</div>
<div class="paragraph">
<p>See the documentation for <a href="https://micronaut-projects.github.io/micronaut-nats/latest/guide/">Micronaut Nats</a> for more information.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/grimmjo">Joachim Grimm</a> for this contribution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_module_upgrades_10"><a class="anchor" href="#_module_upgrades_10"></a>Module Upgrades</h5>
<div class="ulist">
<ul>
<li>
<p>Micronaut AWS - <code>1.3.9</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Cache - <code>1.2.0</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Data - <code>1.0.2</code> &#8594; <code>1.1.0.RC2</code></p>
</li>
<li>
<p>Micronaut GCP - <code>1.1.0</code> &#8594; <code>2.0.0.RC2</code></p>
</li>
<li>
<p>Micronaut gRPC - <code>1.1.1</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Micrometer - <code>1.3.1</code> &#8594; <code>2.0.0.RC2</code></p>
</li>
<li>
<p>Micronaut Mongo - <code>1.3.0</code> &#8594; <code>2.1.0</code></p>
</li>
<li>
<p>Micronaut Neo4j - <code>1.3.0</code> &#8594; <code>3.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut SQL - <code>1.3.0</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Micronaut Security - <code>1.4.0</code> &#8594; <code>2.0.0.RC1</code></p>
</li>
<li>
<p>Micronaut Spring - <code>1.0.2</code> &#8594; <code>2.0.1</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_dependency_upgrades_7"><a class="anchor" href="#_dependency_upgrades_7"></a>Dependency Upgrades</h5>
<div class="ulist">
<ul>
<li>
<p>Hibernate <code>5.4.10.Final</code> &#8594; <code>5.4.16.Final</code></p>
</li>
<li>
<p>Groovy <code>2.5.8</code> &#8594; <code>3.0.3</code></p>
</li>
<li>
<p>Mongo Reactive Streams <code>1.13.0</code> &#8594; <code>4.0.2</code></p>
</li>
<li>
<p>Mongo Java Driver <code>3.12.0</code> &#8594; <code>4.0.2</code></p>
</li>
<li>
<p>Jaeger <code>1.0.0</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Jackson <code>2.10.3</code> &#8594; <code>2.11.0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_1_3_0"><a class="anchor" href="#_micronaut_framework_1_3_0"></a>Micronaut Framework 1.3.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_3_0_breaking_changes"><a class="anchor" href="#_1_3_0_breaking_changes"></a>1.3.0 Breaking Changes</h3>
<div class="paragraph">
<p>The following changes could potentially be considered to be breaking changes, however the likelihood of any negative impact is low.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The order of the configuration files provided by <code>MICRONAUT_CONFIG_FILES</code> or <code>micronaut.config.files</code> was overriding system properties and environment variables. The files are now ordered between the environment and configuration files which means they will no longer override environment variables or system properties. In addition which file within the list had priority was non deterministic. Later files now have precedence over earlier files in the list.</p>
</li>
<li>
<p>Routes that are binding to a body type that is a String, byte[], or ByteBuffer will no longer be decoded and the raw body will be bound directly to the argument. Because decoding is no longer happening, if a body is sent that is considered invalid according to the content type of the request, it will be bound to the body argument anyway. This is different than previous behavior where an exception would be thrown if the body was invalid.</p>
</li>
<li>
<p>Concrete types are now preferred when creating a class hierarchy. The most common case where this will have an impact is converters. Converters that match super classes of the target type will be preferred over converters that match an interface that the target type implements.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_whats_new_with_1_3_0"><a class="anchor" href="#_whats_new_with_1_3_0"></a>What&#8217;s new with 1.3.0</h3>
<div class="sect3">
<h4 id="_support_for_graalvm_20_0_0"><a class="anchor" href="#_support_for_graalvm_20_0_0"></a>Support for GraalVM 20.0.0</h4>
<div class="paragraph">
<p>Micronaut supports creating native-images using GraalVM 20.0.0 for both JDK 8 and JDK 11.</p>
</div>
</div>
<div class="sect3">
<h4 id="_startup_and_memory_usage_optimizations"><a class="anchor" href="#_startup_and_memory_usage_optimizations"></a>Startup and Memory Usage Optimizations</h4>
<div class="paragraph">
<p>Startup performance and memory usage (20%) have been improved.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_data_integration"><a class="anchor" href="#_micronaut_data_integration"></a>Micronaut Data Integration</h4>
<div class="paragraph">
<p>Micronaut Data has been added to the <code>micronaut-bom</code> and you can now use the CLI to create Micronaut Data projects:</p>
</div>
<div class="listingblock">
<div class="title">Setting up Micronaut Data JPA</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># add --build maven for maven
$ mn create-app myapp --features data-hibernate-jpa</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setting up Micronaut Data JDBC</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># add --build maven for maven
$ mn create-app myapp --features data-jdbc</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_initial_support_for_kotlin_coroutines_and_flow"><a class="anchor" href="#_initial_support_for_kotlin_coroutines_and_flow"></a>Initial Support for Kotlin Coroutines and Flow</h4>
<div class="paragraph">
<p>Initial support for Kotlin Coroutines and the <code>Flow</code> type has been added when used as the return type of controller methods.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/konrad-kaminski">Konrad Kamiński</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_immutable_configurationproperties_and_eachproperty"><a class="anchor" href="#_immutable_configurationproperties_and_eachproperty"></a>Immutable <code>@ConfigurationProperties</code> and <code>@EachProperty</code></h4>
<div class="paragraph">
<p>Support for immutable ann:context.annotation.ConfigurationProperties[] has been added by annotating the constructor of any configuration class with ann:context.annotation.ConfigurationInject[]. See the documentation on <a href="#immutableConfig">Immutable Configuration</a> for more information.</p>
</div>
<div class="paragraph">
<p>snippet::io.micronaut.docs.config.itfce.EngineConfig[tags="imports,class",indent=0,title="@ConfigurationProperties Example"]</p>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The ann:context.annotation.ConfigurationProperties[] annotation takes the configuration prefix and is declared on an interface</p>
</li>
<li>
<p>You can use ann:core.bind.annotation.Bindable[] to set a default value if you want</p>
</li>
<li>
<p>Validation annotations can be used too</p>
</li>
<li>
<p>You can also specify references to other ann:context.annotation.ConfigurationProperties[] beans.</p>
</li>
<li>
<p>You can nest immutable configuration</p>
</li>
<li>
<p>Optional configuration can be indicated by returning an <code>Optional</code> or specifying <code>@Nullable</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_ability_to_configure_log_levels_via_properties"><a class="anchor" href="#_ability_to_configure_log_levels_via_properties"></a>Ability to Configure Log Levels via Properties</h4>
<div class="paragraph">
<p>Log levels can now be configured via properties defined in <code>application.yml</code> (and environment variables) with the <code>log.level</code> prefix:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yaml" class="language-yaml hljs">logger:
    levels:
        foo.bar: ERROR</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_new_micronaut_cache_modules"><a class="anchor" href="#_new_micronaut_cache_modules"></a>New Micronaut Cache Modules</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-cache/1.0.x/guide/#introduction">Micronaut Cache</a> has been updated to support <a href="https://micronaut-projects.github.io/micronaut-cache/1.0.x/guide/#hazelcast">Hazelcast</a> and <a href="https://micronaut-projects.github.io/micronaut-cache/1.0.x/guide/#ehcache">Ehcache</a> as additional Cache providers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_new_micronaut_jackson_xml_module"><a class="anchor" href="#_new_micronaut_jackson_xml_module"></a>New Micronaut Jackson XML Module</h4>
<div class="paragraph">
<p>Support for parsing and serializing to XML has been added with a new <a href="https://github.com/micronaut-projects/micronaut-jackson-xml">Jackson XML module</a>.</p>
</div>
<div class="paragraph">
<p>dependency:micronaut-jackson-xml[groupId="io.micronaut.xml"]</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/svishnyakoff">Sergey</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_openapi_swagger_1_3_update"><a class="anchor" href="#_micronaut_openapi_swagger_1_3_update"></a>Micronaut OpenAPI (Swagger) 1.3 Update</h4>
<div class="paragraph">
<p>Micronaut OpenAPI has been updated with loads of improvements including the ability to <a href="https://micronaut-projects.github.io/micronaut-openapi/1.3.x/guide/index.html#openApiViews">automatically generate UIs for Swagger output</a> as part of your application. Thanks to <a href="https://github.com/croudet">croudet</a> for this awesome contribution.</p>
</div>
<div class="paragraph">
<p>The module is also no longer regarded as experimental.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_views_1_3_update"><a class="anchor" href="#_micronaut_views_1_3_update"></a>Micronaut Views 1.3 Update</h4>
<div class="paragraph">
<p>Micronaut Views has been updated to and now features a new <a href="https://micronaut-projects.github.io/micronaut-views/1.3.x/guide/#soy">view renderer for Soy (Closure Templates)</a>. Thanks to <a href="https://github.com/sgammon">Sam Gammon</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_sql_1_3_update"><a class="anchor" href="#_micronaut_sql_1_3_update"></a>Micronaut SQL 1.3 Update</h4>
<div class="paragraph">
<p>Micronaut SQL includes the latest versions of Hibernate and adds support for the Vert.x MySQL and Postgres Clients. Thank you to <a href="https://github.com/shenzhou-6">shenzhou-6</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_micrometer_1_3_update"><a class="anchor" href="#_micronaut_micrometer_1_3_update"></a>Micronaut Micrometer 1.3 Update</h4>
<div class="paragraph">
<p>Micronaut Micrometer has been updated to support Micrometer 1.3.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_kafka_1_4_update"><a class="anchor" href="#_micronaut_kafka_1_4_update"></a>Micronaut Kafka 1.4 Update</h4>
<div class="paragraph">
<p>Micronaut Kafka 1.4 has been updated to support Kafka 2.4.0</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_neo4j_1_3_update"><a class="anchor" href="#_micronaut_neo4j_1_3_update"></a>Micronaut Neo4j 1.3 Update</h4>
<div class="paragraph">
<p>Micronaut Neo4j 1.3 has been updated to support Neo4j Java Driver 1.7.5. In additional a new <code>2.0.0</code> version is available that supports Neo4j Java Driver 4.x line which is the latest version (in order to maintain semantic versioning the default is still 1.3 since the latest version includes changes to package names). See the <a href="https://micronaut-projects.github.io/micronaut-neo4j/latest/guide/">Micronaut Neo4j Documentation</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_grpc_1_1_update"><a class="anchor" href="#_micronaut_grpc_1_1_update"></a>Micronaut GRPC 1.1 Update</h4>
<div class="paragraph">
<p>Micronaut GRPC has been updated to the latest versions of GRPC and Protobuf.</p>
</div>
</div>
<div class="sect3">
<h4 id="_requires_os"><a class="anchor" href="#_requires_os"></a>@Requires OS</h4>
<div class="paragraph">
<p>The ann:context.annotation.Requires[] annotation now has support for disabling beans based on the current operating system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Requires(os=Family.LINUX)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_basic_auth_binding_support"><a class="anchor" href="#_basic_auth_binding_support"></a>Basic Auth binding support</h4>
<div class="paragraph">
<p>In the client and server, an argument of type api:http.BasicAuth[] can be used to generate or parse a basic authorization header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Post("/login")
String login(BasicAuth basicAuth) {
    ...
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_request_certificate"><a class="anchor" href="#_request_certificate"></a>Request Certificate</h4>
<div class="paragraph">
<p>For SSL requests, the certificate is now available as a request attribute. See api:http.HttpRequest#getCertificate--[HttpRequest#getCertificate]</p>
</div>
</div>
<div class="sect3">
<h4 id="_client_filter_matching_by_annotation"><a class="anchor" href="#_client_filter_matching_by_annotation"></a>Client Filter Matching By Annotation</h4>
<div class="paragraph">
<p>Micronaut HTTP clients and client filters can now be matched by the presence of an annotation. Previously only URL matching was supported. See <a href="#_filter_matching_by_annotation">the documentation</a> to get started.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_8"><a class="anchor" href="#_dependency_upgrades_8"></a>Dependency Upgrades</h4>
<div class="paragraph">
<p>Required Third Party Dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ASM <code>7.0</code> &#8594; <code>7.2</code></p>
</li>
<li>
<p>Caffeine <code>2.5.6</code> &#8594; <code>2.8.0</code></p>
</li>
<li>
<p>Jackson <code>2.9.9</code> &#8594; <code>2.10.1</code></p>
</li>
<li>
<p>Reactive Streams <code>1.0.2</code> &#8594; <code>1.0.3</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optional Third Party Dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Micrometer <code>1.2.1</code> &#8594; <code>1.3.1</code></p>
</li>
<li>
<p>Mongo Reactive Driver <code>1.11.0</code> &#8594; <code>1.13.0</code></p>
</li>
<li>
<p>Neo4j Java Driver <code>1.7.2</code> &#8594; <code>1.7.5</code></p>
</li>
<li>
<p>Jaeger <code>0.35.5</code> &#8594; <code>1.0.0</code></p>
</li>
<li>
<p>Kafka <code>2.3.0</code> &#8594; <code>2.4.0</code></p>
</li>
<li>
<p>Spring <code>5.1.8</code> &#8594; <code>5.2.3</code></p>
</li>
<li>
<p>Zipkin/Brave <code>5.6.5</code> &#8594; <code>5.9.0</code></p>
</li>
<li>
<p>Groovy <code>2.5.7</code> &#8594; <code>2.5.8</code></p>
</li>
<li>
<p>Gradle <code>5.5</code> &#8594; <code>Gradle 6.1</code> (for new applications)</p>
</li>
<li>
<p>Hibernate Core <code>5.4.6.Final</code> &#8594; <code>5.4.10.Final</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Micronaut GRPC <code>1.0.1</code> &#8594; <code>1.1.1</code></p>
</li>
<li>
<p>Micronaut Kafka <code>1.2.0</code> &#8594; <code>1.4.0</code></p>
</li>
<li>
<p>Micronaut Micrometer <code>1.2.1</code> &#8594; <code>1.3.0</code></p>
</li>
<li>
<p>Micronaut MongoDB <code>1.1.0</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut MongoDB <code>1.1.0</code> &#8594; <code>1.3.0</code></p>
</li>
<li>
<p>Micronaut Neo4j <code>1.1.0</code> &#8594; <code>1.3.0</code></p>
</li>
<li>
<p>Micronaut OpenAPI <code>1.2.0</code> &#8594; <code>1.3.0</code></p>
</li>
<li>
<p>Micronaut Redis <code>1.1.0</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut SQL <code>1.2.3</code> &#8594; <code>1.3.0</code></p>
</li>
<li>
<p>Micronaut Views <code>1.2.0</code> &#8594; <code>1.3.0</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_1_2_9"><a class="anchor" href="#_micronaut_framework_1_2_9"></a>Micronaut Framework 1.2.9</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_2_9_breaking_changes"><a class="anchor" href="#_1_2_9_breaking_changes"></a>1.2.9 Breaking Changes</h3>
<div class="ulist">
<ul>
<li>
<p>The data format was changed for multiline server sent event data payloads to conform to the specification. Previously multiline data did not have the required <code>data:</code> prefix on each line and now it does.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_1_2_0"><a class="anchor" href="#_micronaut_framework_1_2_0"></a>Micronaut Framework 1.2.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_1_2_0"><a class="anchor" href="#_whats_new_with_1_2_0"></a>What&#8217;s new with 1.2.0</h3>
<div class="sect3">
<h4 id="_support_for_graalvm_19_3_0"><a class="anchor" href="#_support_for_graalvm_19_3_0"></a>Support for GraalVM 19.3.0</h4>
<div class="paragraph">
<p>Micronaut now supports creating native-images using GraalVM 19.3.0 for both JDK 8 and JDK 11.</p>
</div>
</div>
<div class="sect3">
<h4 id="_native_bean_validation_support"><a class="anchor" href="#_native_bean_validation_support"></a>Native Bean Validation Support</h4>
<div class="paragraph">
<p>Hibernate Validator is no longer a required dependency to activate bean validation, with a new <a href="#beanValidation">native implementation of Bean Validation</a> available that is reflection free and supports reactive and AST level validations now available.</p>
</div>
<div class="paragraph">
<p>The <code>micronaut-validation</code> dependency is all that it is needed now and provides the following benefits over Hibernate Validator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reflection Free</p>
</li>
<li>
<p>Compile Time Computed Bean Metadata resulting in lower memory requirements</p>
</li>
<li>
<p>Reduction in JAR size by 2MB</p>
</li>
<li>
<p>Reduction in startup time by 300ms which was the cost of initializing Hibernate validator</p>
</li>
<li>
<p>Out-of-the-box GraalVM native image support</p>
</li>
<li>
<p>Reduction in GraalVM native image size by 10MB</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_reactive_bean_validation_support"><a class="anchor" href="#_reactive_bean_validation_support"></a>Reactive Bean Validation Support</h4>
<div class="paragraph">
<p>In previous versions of Micronaut manual validation had to be applied to reactive flows. You can now declare <code>@Valid</code> on method parameters that receive a reactive type and validation will automatically be applied.</p>
</div>
</div>
<div class="sect3">
<h4 id="_implicit_validated_and_valid"><a class="anchor" href="#_implicit_validated_and_valid"></a>Implicit @Validated and @Valid</h4>
<div class="paragraph">
<p>It is no longer necessary to apply the ann:validation.Validated[] annotation to beans that accept <code>@Valid</code> arguments or use any <code>javax.validation</code> annotation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_kubernetes_1_0_release"><a class="anchor" href="#_micronaut_kubernetes_1_0_release"></a>Micronaut Kubernetes 1.0 Release</h4>
<div class="paragraph">
<p>There is a new <a href="https://micronaut-projects.github.io/micronaut-kubernetes/1.0.0/guide/">Micronaut Kubernetes</a> module, with an improved support for running Micronaut applications in a Kubernetes cluster, including support for Kubernetes' <code>ConfigMap</code>s, <code>Secret</code>s and more.</p>
</div>
<div class="paragraph">
<p>To get started, use the <code>kubernetes</code> feature:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mn create-app my-app --features kubernetes</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_security_1_2_update"><a class="anchor" href="#_micronaut_security_1_2_update"></a>Micronaut Security 1.2 Update</h4>
<div class="paragraph">
<p>Support for OAuth 2.0 and OpenID clients has been added to the Micronaut security module through a new dependency: <code>micronaut-security-oauth2</code>. It is now very easy to add support for login through an OAuth providers. See the <a href="https://micronaut-projects.github.io/micronaut-security/latest/guide/#oauth">Oauth section</a> in the security documentation for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_micrometer_1_2_update"><a class="anchor" href="#_micronaut_micrometer_1_2_update"></a>Micronaut Micrometer 1.2 Update</h4>
<div class="paragraph">
<p><a href="https://micronaut-projects.github.io/micronaut-micrometer/1.2.x/guide/">Micronaut Micrometer has been updated to 1.2</a> which includes the following new features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update to Micrometer 1.2.0</p>
</li>
<li>
<p>Support for GraalVM native images</p>
</li>
<li>
<p>Meter registry support for AppOptics, Azure Monitor, Datadog, Dynatrace, Elastic, Ganglia, Humio, Influx, Jmx, Kairos, New Relic, SignalFX, Stackdriver and Wavefront</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/thiagolocatelli">Thiago Locatelli</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_sql_1_2_update"><a class="anchor" href="#_micronaut_sql_1_2_update"></a>Micronaut SQL 1.2 Update</h4>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-sql/1.2.x/guide/index.html">Micronaut SQL</a> module has been updated with support for the following new features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Improved Entity Scan support for JPA</p>
</li>
<li>
<p>Integration with Micronaut 1.2 Validator for JPA</p>
</li>
<li>
<p>GraalVM <code>native-image</code> metadata</p>
</li>
<li>
<p>Support for <a href="https://www.jooq.org">JOOQ</a>. Thanks to <a href="https://github.com/lightoze">Vladimir Kulev</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_kafka_1_2_update"><a class="anchor" href="#_micronaut_kafka_1_2_update"></a>Micronaut Kafka 1.2 Update</h4>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-kafka/1.2.x/guide/index.html">Micronaut Kafka</a> module has been updated with support for the following new features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Support for Kafka 2.3.0</p>
</li>
<li>
<p>Improved Exception Handling</p>
</li>
<li>
<p>Support for GraalVM <code>native-image</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_rabbit_1_1_1_update"><a class="anchor" href="#_micronaut_rabbit_1_1_1_update"></a>Micronaut Rabbit 1.1.1 Update</h4>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-rabbitmq/1.1.x/guide/index.html">Micronaut RabbitMQ</a> module has been updated with support for GraalVM <code>native-image</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_test_1_1_update"><a class="anchor" href="#_micronaut_test_1_1_update"></a>Micronaut Test 1.1 Update</h4>
<div class="paragraph">
<p>The <a href="https://micronaut-projects.github.io/micronaut-test/1.1.x/guide/index.html">Micronaut Test</a> module has been updated with support for the following new features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Updated to JUnit 5.5</p>
</li>
<li>
<p>Support for Dependency Injection in Constructors and Methods for JUnit 5</p>
</li>
<li>
<p>Support for <a href="https://github.com/kotlintest/kotlintest">Kotlin Test</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_optional_beans_returned_from_factories"><a class="anchor" href="#_optional_beans_returned_from_factories"></a>Optional Beans Returned from Factories</h4>
<div class="paragraph">
<p>A ann:context.annotation.Factory[] bean can now return <code>null</code> if it is not possible to create the bean which will indicate to the dependency injection container that the bean does not exist. This allows for more complex logic within factory beans that can conditionally disable the bean if certain conditions are not met.</p>
</div>
</div>
<div class="sect3">
<h4 id="_hashicorp_vault_support"><a class="anchor" href="#_hashicorp_vault_support"></a>HashiCorp Vault Support</h4>
<div class="paragraph">
<p>Initial support distributed configuration for <a href="https://www.vaultproject.io">HashiCorp Vault</a> has been added. See the documentation on <a href="#distributedConfigurationVault">HashiCorp Vault Support</a> for more information. Thanks to <a href="https://github.com/thiagolocatelli">Thiago Locatelli</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_oracle_cloud_support"><a class="anchor" href="#_oracle_cloud_support"></a>Oracle Cloud Support</h4>
<div class="paragraph">
<p>Initial support for environment detection and cloud metadata for Oracle Cloud has been added. Thanks to <a href="https://github.com/recursivecodes">Todd Sharp</a> for this contribution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_client_and_manual_service_discovery"><a class="anchor" href="#_client_and_manual_service_discovery"></a>@Client and Manual Service Discovery</h4>
<div class="paragraph">
<p>If a service is configured statically with <code>micronaut.http.services.*</code>, it was previously not possible to override the configuration with the ann:http.client.annotation.Client[] annotation. It is now possible to override the configuration, which will result in a new client being created for the given client class.</p>
</div>
</div>
<div class="sect3">
<h4 id="_completable_support"><a class="anchor" href="#_completable_support"></a>Completable Support</h4>
<div class="paragraph">
<p>The RxJava2 reactive type <code>io.reactivex.Completable</code> is now supported as a return type for controller and client methods.</p>
</div>
</div>
<div class="sect3">
<h4 id="_client_and_server_host_resolution"><a class="anchor" href="#_client_and_server_host_resolution"></a>Client and Server Host Resolution</h4>
<div class="paragraph">
<p>New beans have been added to support lookup of the client address and the current server host. The implementations are aware of proxy headers and are configurable to look for custom headers. The api:http.server.util.HttpHostResolver[] can be injected to resolve the current server hostname and api:http.server.util.HttpClientAddressResolver[] can be injected to resolve the client address of the current request.</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_implementation_support"><a class="anchor" href="#_default_implementation_support"></a>Default Implementation Support</h4>
<div class="paragraph">
<p>When writing libraries for Micronaut, it is often the case that users will want to override part of your implementation. The most common way of doing so is creating custom beans that use the ann:context.annotation.Replaces[] annotation to replace your implementation. Because the ann:context.annotation.Replaces[] annotation requires a class argument to indicate which implementation to replace, it was required to make the implementation part of the public API. The class needed to be public because the user would need to reference the class directly in the annotation.</p>
</div>
<div class="paragraph">
<p>A new annotation has been added to solve this problem: ann:context.annotation.DefaultImplementation[]. See the section on <a href="#replaces">Bean Replacements</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_head_routes"><a class="anchor" href="#_head_routes"></a>HEAD Routes</h4>
<div class="paragraph">
<p>For each route registered with the server that responds to GET requests, an additional route will be registered that responds to HEAD requests and will not include the body. This only applies to routes created by Micronaut through annotations. Any GET routes registered by custom route builders will not have corresponding HEAD routes added automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_scope"><a class="anchor" href="#_request_scope"></a>Request Scope</h4>
<div class="paragraph">
<p>A new bean scope has been created to allow for beans that only exist in the scope of a given HTTP request. See ann:runtime.http.scope.RequestScope[].</p>
</div>
</div>
<div class="sect3">
<h4 id="_environment_order_and_priority"><a class="anchor" href="#_environment_order_and_priority"></a>Environment Order and Priority</h4>
<div class="paragraph">
<p>In previous versions of Micronaut, the property sources for an active environment had no priority over any other active environment. It was non deterministic which environment&#8217;s properties would override other environments. Now the last environment supplied has the highest priority. For example, if an application is started with <code>-Dmicronaut.environments=first,second</code>, <code>application-second.yml</code> will override properties in <code>application-first.yml</code>. This change affects all sources of properties, including distributed configuration sources.</p>
</div>
</div>
<div class="sect3">
<h4 id="_environment_endpoint_2"><a class="anchor" href="#_environment_endpoint_2"></a>Environment Endpoint</h4>
<div class="paragraph">
<p>This version includes a new <code>/env</code> endpoint with information about the environment and its property sources See the <a href="#environmentEndpoint">documentation</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rss_2_0_module_included_in_bom"><a class="anchor" href="#_rss_2_0_module_included_in_bom"></a>RSS 2.0 Module Included in BOM</h4>
<div class="paragraph">
<p>This version references the <a href="https://micronaut-projects.github.io/micronaut-rss/latest/guide/index.html">RSS configuration</a> which eases the generation of a RSS 2.0 feeds in a Micronaut app.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_9"><a class="anchor" href="#_dependency_upgrades_9"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Groovy <code>2.5.4</code> &#8594; <code>2.5.6</code></p>
</li>
<li>
<p>Gradle <code>5.1.1</code> &#8594; <code>Gradle 5.5</code> (for new applications)</p>
</li>
<li>
<p>Micronaut SQL <code>1.1.1</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut Micrometer <code>1.1.0</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micrometer <code>1.1.5</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut Security <code>1.1.1</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut Views <code>1.1.3</code> &#8594; <code>1.2.0</code></p>
</li>
<li>
<p>Micronaut Test <code>1.0.4</code> &#8594; <code>1.1.0</code></p>
</li>
<li>
<p>Netty <code>4.1.30.Final</code> &#8594; <code>4.1.43.Final</code></p>
</li>
<li>
<p>Neo4j Driver <code>1.7.2</code> &#8594; <code>1.7.5</code></p>
</li>
<li>
<p>Mongo Driver <code>3.8.0</code> &#8594; <code>3.10.1</code></p>
</li>
<li>
<p>Mongo Reactive Streams <code>1.10.0</code> &#8594; <code>1.11.0</code></p>
</li>
<li>
<p>Kafka <code>2.1.1</code> &#8594; <code>2.3.0</code></p>
</li>
<li>
<p>Snake YAML <code>1.23</code> &#8594; <code>1.24</code></p>
</li>
<li>
<p>Lettuce <code>5.1.3.RELEASE</code> &#8594; <code>5.1.7.RELEASE</code></p>
</li>
<li>
<p>JUnit <code>5.3.2</code> &#8594; <code>5.5.0</code></p>
</li>
<li>
<p>Picocli <code>3.5.2</code> &#8594; <code>4.0.1</code></p>
</li>
<li>
<p>Jaeger <code>0.33.1</code> &#8594; <code>0.35.5</code></p>
</li>
<li>
<p>Zipkin Reporter <code>2.8.4</code> &#8594; <code>2.10.0</code></p>
</li>
<li>
<p>Open Tracing <code>0.31.0</code> &#8594; <code>0.33.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_0_breaking_changes"><a class="anchor" href="#_1_2_0_breaking_changes"></a>1.2.0 Breaking Changes</h3>
<div class="paragraph">
<p>The following changes could potentially be considered to be breaking changes, however the likelihood of any negative impact is low.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The AWS distributed configuration through systems manager property store supported the notion of <code>key=value</code> in the value section of the configuration. This functionality has been removed because it did not consider properties that contain an <code>=</code> but are not in the format of <code>key=value</code>.</p>
</li>
<li>
<p>The return of reactive types with a generic of <code>Void</code> has been changed from always returning a 404 status to returning a 200, or whatever status is defined in the <code>@Status</code> annotation. This includes <code>CompletionStage</code>, RxJava2, and Reactor types. The change was made to be consistent with the behavior of methods that return <code>void</code>.</p>
</li>
<li>
<p>Extending a <code>@ConfigurationProperties</code> class that contains a <code>@ConfigurationBuilder</code> only allowed the builder to be configured through the child&#8217;s class prefix instead of the parent&#8217;s. This was a bug because the behavior is different compared to any other property on the parent class. Previously the <code>parent.child.address</code> prefix would have been used to configure the <code>address</code> builder on the child class. With this change <code>parent.address</code> will be used.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">    @ConfigurationProperties("parent")
    class Parent {
        @ConfigurationBuilder(configurationPrefix = "address")
        ...
    }

    @ConfigurationProperties("child")
    class Child extends Parent {
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_1_1_0"><a class="anchor" href="#_micronaut_framework_1_1_0"></a>Micronaut Framework 1.1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_1_1_0"><a class="anchor" href="#_whats_new_with_1_1_0"></a>What&#8217;s new with 1.1.0</h3>
<div class="sect3">
<h4 id="_graalvm_19_native_image_support"><a class="anchor" href="#_graalvm_19_native_image_support"></a>GraalVM 19 Native Image Support</h4>
<div class="paragraph">
<p>Micronaut 1.1.2 is the first version to support GraalVM 19&#8217;s native image changes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Although GraalVM 19 is the first official stable release of GraalVM, Substrate and the <code>native-image</code> tool remain in early adopter / experimental status. Therefore support for native images in Micronaut also remains experimental at this stage.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_modularization"><a class="anchor" href="#_modularization"></a>Modularization</h4>
<div class="paragraph">
<p>Micronaut is now modular with parts of Micronaut being shifted into sub-projects. See the following links for new sub-projects that now have independent release cycles outside of Micronaut core:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-kafka/1.1.x/guide/index.html">Micronaut Kafka</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-micrometer/1.1.x/guide/index.html">Micronaut Micrometer</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-groovy/1.1.x/guide/index.html">Micronaut Groovy</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-sql/1.1.x/guide/index.html">Micronaut SQL</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-mongodb/1.1.x/guide/index.html">Micronaut MongoDB</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-neo4j/1.1.x/guide/index.html">Micronaut Neo4j</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-redis/1.1.x/guide/index.html">Micronaut Redis</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-rabbitmq/1.1.x/guide/index.html">Micronaut RabbitMQ</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html">Micronaut Test</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-netflix/latest/guide/index.html">Micronaut Netflix</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/index.html">Micronaut AWS</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-grpc/latest/guide/index.html">Micronaut GRPC</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-flyway/latest/guide/index.html">Micronaut Flyway</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-liquibase/latest/guide/index.html">Micronaut Liquibase</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-elasticsearch/latest/guide/index.html">Micronaut Elasticsearch</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-graphql/latest/guide/index.html">Micronaut GraphQL</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_file_watch_and_server_restart"><a class="anchor" href="#_file_watch_and_server_restart"></a>File Watch and Server Restart</h4>
<div class="paragraph">
<p>A new <a href="#automaticRestart">Automatic Restart</a> feature is included that allows the server to restart if a change occurs to a file. This feature can be used both in production and at development time to achieve automatic application restarts when changing source code (when combined with a third party tool such as Gradle or Kubernetes in production).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features file-watch
$ cd my-app
$ ./gradlew run --continuous</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_grpc_support"><a class="anchor" href="#_grpc_support"></a>GRPC Support</h4>
<div class="paragraph">
<p>Support for creating <a href="https://grpc.io/">GRPC</a> + Micronaut applications has been added.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-grpc/latest/guide/">Micronaut GRPC</a> documentation for more information and example applications.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>Use the CLI to quickly create a GRPC application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mn create-app helloworld --profile grpc --lang java --build gradle</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_rabbitmq_support"><a class="anchor" href="#_rabbitmq_support"></a>RabbitMQ Support</h4>
<div class="paragraph">
<p>Support for creating Message-Driven Microservices with <a href="https://www.rabbitmq.com">RabbitMQ</a> has been added.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>Use the CLI to quickly create a RabbitMQ application.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mn create-app hellorabbit --features rabbitmq</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-rabbitmq/latest/guide/">Micronaut RabbitMQ</a> documentation for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_graphql_support"><a class="anchor" href="#_graphql_support"></a>GraphQL Support</h4>
<div class="paragraph">
<p>Support for creating <a href="https://graphql.org/">GraphQL</a> + Micronaut applications has been added.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://micronaut-projects.github.io/micronaut-graphql/latest/guide/">Micronaut GraphQL</a> documentation for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_compile_time_bean_introspection"><a class="anchor" href="#_compile_time_bean_introspection"></a>Compile Time Bean Introspection</h4>
<div class="paragraph">
<p>A compilation time replacement for jdk:java.beans.Introspector[] has been added which allows introspecting and creating bean instances without using reflection, improving performance, memory consumption and GraalVM support.</p>
</div>
<div class="paragraph">
<p>See the new section on <a href="#introspection">Bean Introspection</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cold_start_and_performance_improvements"><a class="anchor" href="#_cold_start_and_performance_improvements"></a>Cold Start and Performance Improvements</h4>
<div class="paragraph">
<p>Micronaut 1.1 cold start performance has been improved through a variety of optimizations including compilation time indexing of common bean types. Users should see superior cold start performance for both Microservices and Functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aws_api_gateway_proxy_support"><a class="anchor" href="#_aws_api_gateway_proxy_support"></a>AWS API Gateway Proxy Support</h4>
<div class="paragraph">
<p>Support for AWS API Gateway Proxy has been added allowing AWS Lambda&#8217;s to be defined as regular controllers. See the documentation on <a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/#apiProxy">AWS API Gateway Proxy Support</a> for more information and links to examples.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features aws-api-gateway</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_graalvm_native_improvements"><a class="anchor" href="#_graalvm_native_improvements"></a>GraalVM Native Improvements</h4>
<div class="paragraph">
<p>Support for GraalVM Substrate (<code>nativeimage</code>) has been improved in a number of different ways.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Framework Improvements</strong> - Framework level dynamic classloading and reflection has been completely removed thus making it easier to get applications running on GraalVM <code>nativeimage</code> and reducing the number of customizations necessary.</p>
</li>
<li>
<p><strong>Build Time Reflection Data</strong> - Thanks to the aforementioned feature, the older <code>GraalClassLoadingAnalyzer</code> runtime step has been removed and replaced by build time generation of <code>reflection-config.json</code> for classes that do require it (typically third party libraries).</p>
</li>
<li>
<p><strong>Simplified Image Generation</strong> - You can now generate a native image with just <code>native-image --class-path myjar.jar</code> without any additional flags. Since Micronaut now computes the appropriate GraalVM configuration at compilation time.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_google_cloud_platform_gcp_support"><a class="anchor" href="#_google_cloud_platform_gcp_support"></a>Google Cloud Platform (GCP) Support</h4>
<div class="paragraph">
<p>A new <a href="https://micronaut-projects.github.io/micronaut-gcp/latest/guide/">Google Cloud Configuration</a> is available that adds general support for GCP and integration with Stackdriver Trace for distributed tracing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aws_lambda_custom_runtime_graalvm_support"><a class="anchor" href="#_aws_lambda_custom_runtime_graalvm_support"></a>AWS Lambda Custom Runtime + GraalVM Support</h4>
<div class="paragraph">
<p>Support for creating AWS API Gateway applications (see above) that are compiled into GraalVM native images and run using an AWS Lambda Custom Runtime has been added. This reduces cold starts on Lambda to 100-200ms.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features aws-api-gateway-graal</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_aws_lambda_alexa_skill_support"><a class="anchor" href="#_aws_lambda_alexa_skill_support"></a>AWS Lambda Alexa Skill Support</h4>
<div class="paragraph">
<p>Support for creating <a href="https://micronaut-projects.github.io/micronaut-aws/latest/guide/#alexa">Alexa Skills with Micronaut</a> has been added.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="paragraph">
<p>You can create Alexa functions with the CLI. Use the <code>-lang</code> parameter to specify <code>java</code>, <code>kotlin</code> or <code>groovy</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-function hello-alexa --provider alexa</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_micronaut_test_templates"><a class="anchor" href="#_micronaut_test_templates"></a>Micronaut Test Templates</h4>
<div class="paragraph">
<p>The CLI has been updated to generate tests that use <a href="https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html">Micronaut Test</a> for JUnit 5 and Spock.</p>
</div>
</div>
<div class="sect3">
<h4 id="_micrometer_1_1_and_timed_support"><a class="anchor" href="#_micrometer_1_1_and_timed_support"></a>Micrometer 1.1 and @Timed Support</h4>
<div class="paragraph">
<p>Micrometer has been upgraded to 1.1 and support for <a href="https://micrometer.io/docs/concepts#_the_code_timed_code_annotation">@Timed</a> AOP advice added.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="title">Using the CLI</div>
<div class="listingblock">
<div class="content">
<pre>$ mn create-app my-app --features micrometer</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_kafka_2_1_and_kafka_improvements"><a class="anchor" href="#_kafka_2_1_and_kafka_improvements"></a>Kafka 2.1 and Kafka Improvements</h4>
<div class="paragraph">
<p>Kafka support has been improved with the release of <a href="https://micronaut-projects.github.io/micronaut-kafka/1.1.x/guide/">Micronaut Kafka</a> 1.1 including supports for metrics, distributed tracing and Kafka 2.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="_api_versioning_support"><a class="anchor" href="#_api_versioning_support"></a>API Versioning Support</h4>
<div class="paragraph">
<p>API versioning is now supported. See the <a href="#apiVersioning">API Versioning</a> documentation for more information on how to use this feature. Thanks for <a href="https://github.com/BogdanOros">Bogdan Oros</a> for contributing this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jackson_jsonview_support"><a class="anchor" href="#_jackson_jsonview_support"></a>Jackson <code>@JsonView</code> Support</h4>
<div class="paragraph">
<p>Support for using <code>@JsonView</code> on controller methods has been added can be optionally enabled by setting <code>jackson.json-view.enabled</code> to <code>true</code> in <code>application.yml</code>. Thanks to <a href="https://github.com/mmindenhall">Mark Mindenhall</a> for contributing this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_spring_cloud_config_server"><a class="anchor" href="#_support_for_spring_cloud_config_server"></a>Support for Spring Cloud Config Server</h4>
<div class="paragraph">
<p>If you are already using <a href="https://spring.io/projects/spring-cloud-config">Spring Config Server</a> then Micronaut now features native integration for distributed configuration.</p>
</div>
<div class="paragraph">
<p>See the <a href="#distributedConfigurationSpringCloud">Documentation on Distributed Configuration with Spring Cloud Config</a> for more information.</p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/thiagolocatelli">Thiago Locatelli</a> and <a href="https://github.com/MichelSchudel">Michel Schudel</a> for contributing this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_refactoring_of_file_responses"><a class="anchor" href="#_refactoring_of_file_responses"></a>Refactoring of File Responses</h4>
<div class="paragraph">
<p>In an effort to make a more consistent and understandable API, some methods and classes related to sending file responses have been deprecated. api:http.server.types.files.SystemFile[] is the replacement for api:http.server.types.files.AttachedFile[] and the constructors of api:http.server.types.files.StreamedFile[] have been deprecated in favor of new constructors that better convey the intended functionality.</p>
</div>
<div class="paragraph">
<p>Note that api:http.server.types.files.SystemFile[] behaves differently from api:http.server.types.files.AttachedFile[] in that responses are by default sent inline instead of attached. In addition, support for sending attached responses has been added to api:http.server.types.files.StreamedFile[]. The following methods can be used to attach a system or streamed file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>api:http.server.types.files.StreamedFile#attach-java.lang.String-[StreamedFile#attach(String)]</p>
</li>
<li>
<p>api:http.server.types.files.SystemFile#attach--[SystemFile#attach()]</p>
</li>
<li>
<p>api:http.server.types.files.SystemFile#attach-java.lang.String-[SystemFile#attach(String)]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_freemarker_views"><a class="anchor" href="#_support_for_freemarker_views"></a>Support for Freemarker Views</h4>
<div class="paragraph">
<p>Support for rendering <a href="#freemarker">Freemarker Views</a> has been added. Thanks to <a href="https://github.com/jerolba">Jeronimo López</a> for contributing this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_constraint_bean_support"><a class="anchor" href="#_constraint_bean_support"></a>Constraint Bean Support</h4>
<div class="paragraph">
<p>For those using the <code>micronaut-hibernate-validator</code> configuration, constraints will now be attempted to be retrieved from the bean context. This means you can now use dependency injection in your custom constraints.</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_jcache_caching"><a class="anchor" href="#_support_for_jcache_caching"></a>Support for JCache Caching</h4>
<div class="paragraph">
<p>Support has been added for the JCache specification. If you define a <code>javax.cache.CacheManager</code> bean it will be used for caching. For example:</p>
</div>
<div class="paragraph">
<div class="title">Using JCache Caching</div>
<p>snippet::io.micronaut.docs.whatsNew.CacheFactory[tags="imports,class"]</p>
</div>
</div>
<div class="sect3">
<h4 id="_support_for_jasync_sql"><a class="anchor" href="#_support_for_jasync_sql"></a>Support for JAsync SQL</h4>
<div class="paragraph">
<p>Support for <a href="https://micronaut-projects.github.io/micronaut-sql/1.1.x/guide/index.html#jasync">JAsync SQL</a> has been added, which includes non-blocking drivers for both Postgres and MySQL. Thanks to <a href="https://github.com/oshai">Ohad Shai</a> for contributing this feature.</p>
</div>
</div>
<div class="sect3">
<h4 id="_major_improvements_for_multipart_file_uploads"><a class="anchor" href="#_major_improvements_for_multipart_file_uploads"></a>Major Improvements for Multipart File Uploads</h4>
<div class="paragraph">
<p>Several issues and improvements have been made in regards to file uploads in comparison to the previous version of Micronaut. These fixes have been substantial enough that they have caused the behavior of uploads to change, however these changes should not break any existing use cases. To summarize the issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Routes were not in control of the flow of bytes coming from the client with multipart uploads</p>
</li>
<li>
<p>It was not possible to read and release a chunk of data at a time. The entire upload would be put into memory or disk</p>
</li>
<li>
<p>Mixed (memory/disk with a threshold) uploads are not supported</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following changes have been implemented:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Routes gain control of the data flow as soon as they are executed. A route cannot be executed until all of its arguments are fulfilled, so data will reside on memory or disk until the route can be executed.</p>
</li>
<li>
<p>After processing a chunk of data it is immediately released. For memory uploads this means the data is immediately freed. For disk uploads the data remains on disk until after processing.</p>
</li>
<li>
<p>Two new configuration options are available to support mixed uploads: <code>micronaut.server.multipart.mixed</code> and <code>micronaut.server.multipart.threshold</code>. When data needs to be buffered, mixed uploads will initially store data in memory. Once the threshold is reached, the data will be erased from memory and moved entirely onto disk.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_option_to_disable_environment_detection"><a class="anchor" href="#_option_to_disable_environment_detection"></a>Option to Disable Environment Detection</h4>
<div class="paragraph">
<p>Environment detection can be disabled through a method on the application context builder, system property, or evnironment variable.</p>
</div>
<div class="paragraph">
<p>See the <a href="#environments">Environment</a> documentation for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_jwk_and_jwk_set_support"><a class="anchor" href="#_jwk_and_jwk_set_support"></a>JWK and JWK Set support</h4>
<div class="paragraph">
<p>You can expose an endpoint with a JWK Set thanks to the <a href="#keys">Keys Controller</a>.</p>
</div>
<div class="paragraph">
<p>You can also make a remote JWKS participate in a JWT signature validation. Read the
<a href="#jwks">Validation with remote JWKS</a> section to learn more.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_10"><a class="anchor" href="#_dependency_upgrades_10"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Groovy <code>2.5.4</code> &#8594; <code>2.5.6</code></p>
</li>
<li>
<p>Gradle <code>4.10.2</code> &#8594; <code>5.1.1</code> (CLI Only)</p>
</li>
<li>
<p>Kafka <code>2.0.1</code> &#8594; <code>2.1.1</code></p>
</li>
<li>
<p>Micrometer <code>1.0.6</code> &#8594; <code>1.1.4</code></p>
</li>
<li>
<p>Reactive Streams <code>1.0.1</code> &#8594; <code>1.0.2</code></p>
</li>
<li>
<p>Jackson <code>2.9.7</code> &#8594; <code>2.9.8</code></p>
</li>
<li>
<p>Nimbus JOSE+JWT  <code>6.0.2</code> &#8594; <code>6.8</code></p>
</li>
<li>
<p>Spring <code>5.0.10.RELEASE</code> &#8594; <code>5.1.4.RELEASE</code></p>
</li>
<li>
<p>Reactor <code>3.2.0.RELEASE</code> &#8594; <code>3.2.5.RELEASE</code></p>
</li>
<li>
<p>RxJava 2 <code>2.2.2</code> &#8594; <code>2.2.6</code></p>
</li>
<li>
<p>Reactive Postgres <code>0.10.5</code> &#8594; <code>0.11.3</code></p>
</li>
<li>
<p>GORM <code>6.1.8.RELEASE</code> &#8594; <code>7.0.0.RELEASE</code></p>
</li>
<li>
<p>Hibernate <code>5.3.7.Final</code> &#8594; <code>5.4.0.Final</code></p>
</li>
<li>
<p>Hikari <code>2.7.9</code> &#8594; <code>3.3.1</code></p>
</li>
<li>
<p>Commons DBCP 2 <code>2.1.1</code> &#8594; <code>2.6.0</code></p>
</li>
<li>
<p>Tomcat Pool <code>9.0.1</code> &#8594; <code>9.0.17</code></p>
</li>
<li>
<p>Neo4j Java Driver <code>1.6.4</code> &#8594; <code>1.7.2</code></p>
</li>
<li>
<p>Mongo Java Driver <code>3.8.0</code> &#8594; <code>3.10.0</code></p>
</li>
<li>
<p>Mongo Reactive Driver <code>1.8.0</code> &#8594; <code>1.10.0</code></p>
</li>
<li>
<p>Redis Lettuce Driver <code>5.0.4.RELEASE</code> &#8594; <code>5.1.3.RELEASE</code></p>
</li>
<li>
<p>Jaeger <code>0.31.0</code> &#8594; <code>0.33.1</code></p>
</li>
<li>
<p>Zipkin Reporter <code>2.7.9</code> &#8594; <code>2.8.0</code></p>
</li>
<li>
<p>Brave Instrumentation HTTP <code>5.4.2</code> &#8594; <code>5.6.1</code></p>
</li>
<li>
<p>Brave Opentracing &#8594; <code>0.33.3</code> &#8594; <code>0.33.10</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1_1_0_breaking_changes"><a class="anchor" href="#_1_1_0_breaking_changes"></a>1.1.0 Breaking Changes</h3>
<div class="paragraph">
<p>The following changes could potentially be considered to be breaking changes, however the likelihood of any negative impact is low.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="{api}/io/micronaut/session/http/HttpSessionConfiguration.html">HttpSessionConfiguration</a> default value for <code>cookiePath</code> is <code>/</code>. The change was necessary for cookies to function normally.</p>
</li>
<li>
<p>The <a href="{api}/io/micronaut/security/token/jwt/render/AccessRefreshToken.html">AccessRefreshToken</a> API has been changed to  include <code>tokenType</code> and <code>expiresIn</code>. This change was necessary to comply with the token response <a href="https://tools.ietf.org/html/rfc6749#section-4.1.4.html">RFC 6749</a>.</p>
</li>
<li>
<p>Route binding behavior for a request argument with a generic type has changed. For routes that take in an <code>HttpRequest&lt;SomeType&gt;</code>, an <code>UnsatisfiedRouteException</code> will be thrown if no body is found in the request. To restore the previous behavior, remove the generic type from the argument.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">    public String hello(HttpRequest&lt;Author&gt; request) //requires the body to be present

    public String hello(HttpRequest request) //the body will not be read (same as 1.0.x)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micronaut_framework_1_0_0"><a class="anchor" href="#_micronaut_framework_1_0_0"></a>Micronaut Framework 1.0.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whats_new_with_1_0_0"><a class="anchor" href="#_whats_new_with_1_0_0"></a>What&#8217;s new with 1.0.0</h3>
<div class="sect3">
<h4 id="_modularization_2"><a class="anchor" href="#_modularization_2"></a>Modularization</h4>
<div class="paragraph">
<p>Micronaut is now modular with parts of Micronaut being shifted into subprojects. See the following links for new subprojects that now have indepent release cycles outside of Micronaut core:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-kafka/latest/guide/index.html">Micronaut Kafka</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/index.html">Micronaut Micrometer</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-groovy/latest/guide/index.html">Micronaut Groovy</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-sql/latest/guide/index.html">Micronaut SQL</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-mongodb/latest/guide/index.html">Micronaut MongoDB</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-redis/latest/guide/index.html">Micronaut Redis</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html">Micronaut Test</a></p>
</li>
<li>
<p><a href="https://micronaut-projects.github.io/micronaut-netflix/latest/guide/index.html">Micronaut Netflix</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_graalvm_1_0_rc11_support"><a class="anchor" href="#_graalvm_1_0_rc11_support"></a>GraalVM 1.0 RC11 Support</h4>
<div class="paragraph">
<p>The GraalVM support has been updated to accomodate the latest changes in <a href="https://github.com/oracle/graal/releases/tag/vm-1.0.0-rc11">GraalVM 1.0.0 RC11</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dependency_upgrades_11"><a class="anchor" href="#_dependency_upgrades_11"></a>Dependency Upgrades</h4>
<div class="ulist">
<ul>
<li>
<p>Kafka <code>2.0.0</code> &#8594; <code>2.0.1</code></p>
</li>
<li>
<p>Reactive Streams <code>1.0.1</code> &#8594; <code>1.0.2</code></p>
</li>
<li>
<p>Jackson <code>2.9.7</code> &#8594; <code>2.9.8</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1_0_0_breaking_changes"><a class="anchor" href="#_1_0_0_breaking_changes"></a>1.0.0 Breaking Changes</h3>
<div class="sect3">
<h4 id="_1_0_0_rc3"><a class="anchor" href="#_1_0_0_rc3"></a>1.0.0.RC3</h4>
<div class="ulist">
<ul>
<li>
<p>All Micronaut modules have been renamed to include <code>micronaut-</code> prefix to make it easier to manage dependencies. If you are upgrading rename all references modules. Example <code>bom</code> &#8594; <code>micronaut-bom</code>, <code>inject</code> &#8594; <code>micronaut-inject</code> etc.</p>
</li>
<li>
<p>Methods for JWT signature generation have been removed from <a href="{api}/io/micronaut/security/token/jwt/signature/rsa/RSASignatureConfiguration.html">RSASignatureConfiguration</a> or
<a href="{api}/io/micronaut/security/token/jwt/signature/ec/ECSignatureConfiguration.html">ECSignatureConfiguration</a>. Those beans should be used in microservices where you need only signature verification and not generation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To enable a RSA or EC JWT signature generation, you need to have in your app a bean of type <a href="{api}/io/micronaut/security/token/jwt/signature/rsa/RSASignatureGeneratorConfiguration.html">RSASignatureGeneratorConfiguration</a> or
<a href="{api}/io/micronaut/security/token/jwt/signature/ec/ECSignatureGeneratorConfiguration.html">ECSignatureGeneratorConfiguration</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_1_0_0_rc2"><a class="anchor" href="#_1_0_0_rc2"></a>1.0.0.RC2</h4>
<div class="ulist">
<ul>
<li>
<p><code>io.micronaut.security.authentication.Authenticator::authenticate</code> method signature has changed from:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>public Publisher&lt;AuthenticationResponse&gt; authenticate(UsernamePasswordCredentials credentials)</code></p>
</div>
<div class="paragraph">
<p>to:</p>
</div>
<div class="paragraph">
<p><code>public Publisher&lt;AuthenticationResponse&gt; authenticate(AuthenticationRequest authenticationRequest)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_1_0_0_rc1"><a class="anchor" href="#_1_0_0_rc1"></a>1.0.0.RC1</h4>
<div class="ulist">
<ul>
<li>
<p>The default port if no port is specified is now port 8080 instead of a random port, except in the test environment. A random port can be obtained by setting the port to -1.</p>
</li>
<li>
<p>The configuration for static resource has been changed to allow multiple mappings, each with their own set of paths. This will allow accessing resources at multiple URLs. Previously the configuration might have looked like:</p>
<div class="literalblock">
<div class="content">
<pre>micronaut:
    router:
        static:
            resources:
                enabled: true
                mapping: /static/**
                paths:
                  - classpath:static</pre>
</div>
</div>
<div class="paragraph">
<p>And now the equivalent configuration would be:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>micronaut:
    router:
        static-resources:
            default:
                enabled: true
                mapping: /static/**
                paths:
                  - classpath:static</pre>
</div>
</div>
<div class="paragraph">
<p>The word <code>default</code> in that example is arbitrary and can be replaced with any name that is appropriate to describe the category of resources that will be served.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Notice the change from <code>static.resources</code> to <code>static-resources</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The CLI feature for Netflix Archaius was incorrectly named <code>netflix-archius</code>. The feature has now been renamed to reflect the correct name, <code>netflix-archaius</code>.</p>
</li>
<li>
<p>The intercept url map security rule now no longer considers the query part of the request when determining if the request matches. Previously <code>/?value=true</code> would <strong>not</strong> match <code>/</code>.</p>
</li>
<li>
<p>Several APIs surrounding route URI matching and template parsing have changed to allow more information to be retrieved from the parsing process.</p>
</li>
<li>
<p>The following packages have been renamed:</p>
<div class="literalblock">
<div class="content">
<pre>io.micronaut.http.server.binding -&gt; io.micronaut.http.bind</pre>
</div>
</div>
</li>
<li>
<p>The following annotations have been moved to new locations:</p>
<div class="literalblock">
<div class="content">
<pre>io.micronaut.http.client.Client -&gt; io.micronaut.http.client.annotation.Client
io.micronaut.security.Secured -&gt; io.micronaut.security.annotation.Secured</pre>
</div>
</div>
</li>
<li>
<p>The jackson deserialization features ACCEPT_SINGLE_VALUE_AS_ARRAY and UNWRAP_SINGLE_VALUE_ARRAYS are now enabled by default. To revert to the previous behavior, see the section on <a href="#_jackson_configuration">Jackson Configuration</a> for information on how to customize deserialization features.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_0_0_m4"><a class="anchor" href="#_1_0_0_m4"></a>1.0.0.M4</h4>
<div class="ulist">
<ul>
<li>
<p>Libraries compiled against earlier versions of Micronaut are not binary compatible with this release.</p>
</li>
<li>
<p>The Java module names generated in previous versions were invalid because they contained a <code>-</code>. Module names with dashes were converted to an underscore. For example: <code>io.micronaut.inject-java</code> &#8594; <code>io.micronaut.inject_java</code>.</p>
</li>
<li>
<p>The annotation metadata API has been changed to no longer use reflective proxies for annotations. The methods that used to return the proxies now return an <code>AnnotationValue</code> that contains all of the data that existed in the proxy. The methods to create the proxies now exist under <code>synthesize..</code>.</p>
</li>
<li>
<p>Many classes no longer implement <code>AnnotatedElement</code>.</p>
</li>
<li>
<p><code>AnnotationUtil</code> has seen significant changes and is now marked as an internal class.</p>
</li>
<li>
<p><code>BeanContext.getBeanRegistrations</code> has been renamed to <code>BeanContext.getActiveBeanRegistrations</code>.</p>
</li>
<li>
<p>Endpoint annotations have moved packages: <code>io.micronaut.management.endpoint</code> &#8594; <code>io.micronaut.management.endpoint.annotation</code>.</p>
</li>
<li>
<p>Endpoint method arguments were previously included in the route URI by default. Now endpoint arguments are <strong>not</strong> included in the route URI by default. An annotation, <code>@Selector</code> has been added to indicate an endpoint argument <strong>should</strong> be included in the URI.</p>
</li>
<li>
<p>The <code>@Controller</code> annotation now requires a value. Previously a convention was used to determine the URI.</p>
</li>
<li>
<p>The <code>HttpMethodMapping</code> annotations (<code>@Get</code>, <code>@Put</code>, etc) have changed their default behavior. They no longer use a convention based off the method name if the URI was not provided. The URI is still not required, however it now defaults to <code>/</code>. The new default means the method will be accessible from the controller URI.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_0_0_m3"><a class="anchor" href="#_1_0_0_m3"></a>1.0.0.M3</h4>
<div class="ulist">
<ul>
<li>
<p>The contract for <code>io.micronaut.http.codec.MediaTypeCodec</code> has changed to support multiple media types.</p>
</li>
<li>
<p>To reduce confusion around <code>@Parameter</code>, it can no longer be used to denote an argument should be bound from the request url. Its sole purpose is defining arguments for parameterized beans. Use <code>@QueryValue</code> instead.</p>
</li>
<li>
<p>The health endpoint will now only report details when the user is authenticated. To revert to the previous behavior, set <code>endpoints.health.detailsVisible: ANONYMOUS</code>.</p>
</li>
<li>
<p>The CLI options have been standardized to use two leading dashes for long options (like <code>--stacktrace</code>) and one for shortcuts (like <code>-h</code>). That means that some options no longer work. For example, this command used to work with M2: <code>create-app -lang groovy myapp</code>. From M3, you will see this error: <code>Could not convert 'ang' to SupportedLanguage for option '--lang'</code>. Specifying either <code>-l LANG</code> or <code>--lang LANG</code> works as expected.</p>
</li>
<li>
<p>The following packages have been renamed:</p>
<div class="ulist">
<ul>
<li>
<p><code>io.micronaut.configurations.ribbon</code> &#8594; <code>io.micronaut.configuration.ribbon</code></p>
</li>
<li>
<p><code>io.micronaut.configurations.hystrix</code> &#8594; <code>io.micronaut.configuration.hystrix</code></p>
</li>
<li>
<p><code>io.micronaut.configurations.aws</code> &#8594; <code>io.micronaut.configuration.aws</code></p>
</li>
<li>
<p><code>io.micronaut.http.netty.buffer</code> &#8594; <code>io.micronaut.buffer.netty</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>The default Consul configuration prefix has been changed to reflect changes in the latest version of Consul. Previously a leading slash was expected and the default value was <code>/config/</code>. The new default value is <code>config/</code>. To restore the previous behavior, set <code>consul.client.config.path = /config/</code></p>
</li>
<li>
<p>The <code>session</code> module will now serialize POJOs to JSON using Jackson by default instead of Java Serialization. This change is because Java serialization will be removed and deprecated in a future version of the JDK.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_0_0_m2"><a class="anchor" href="#_1_0_0_m2"></a>1.0.0.M2</h4>
<div class="ulist">
<ul>
<li>
<p>The constructor signature for DefaultHttpClient has changed to include an extra argument. This change should not impact existing uses.</p>
</li>
<li>
<p>Libraries compiled against M1 are not binary compatible with M2.</p>
</li>
<li>
<p>For Java 9+ automatic module name has been set to <code>&lt;groupId&gt;.&lt;name&gt;</code>. Previously if you have been using the "inject-java" module, the module is now named "io.micronaut.inject-java".</p>
</li>
<li>
<p>When an HttpClientResponseException is thrown, the body of the response will be set to the exception message for responses with a text media type. Previously the status description was returned.</p>
</li>
<li>
<p>Mongo configurations were updated to a new version of the driver (3.6.1 &#8594; 3.7.1), which may break existing uses. See their <a href="http://mongodb.github.io/mongo-java-driver/3.7/upgrading/">upgrading</a> page for more information.</p>
</li>
<li>
<p>The <code>router</code> configuration key was changed to be <code>micronaut.router</code>. Static resource configuration is affected by this change. Please update your configuration: <code>router.static.resources</code> &#8594; <code>micronaut.router.static.resources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repository"><a class="anchor" href="#_repository"></a>Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can find the source code of this project in this repository:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/{githubSlug}">https://github.com/{githubSlug}</a></p>
</div>

            </div>
        </div>
    </div>
</main>

<footer id="footer">
    <div class="container">

        <div class="row">
            <div class="col-sm-5 footer-left">

                <div id="text-14" class="widget widget_text">
                    <div class="textwidget">
                        <p>
                            <img class="alignnone size-medium wp-image-3736" src="https://micronaut.io/wp-content/uploads/2021/10/MIcronaut_Foundation_Horizontal_white.png" alt="Micronaut Foundation"/>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-7 footer-right">

                <ul class="meta">

                    <li id="menu-item-2895" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2895">
                        <a href="https://micronaut.io/brand-guidelines/">Brand Guidelines</a>
                    </li>
                    <li id="menu-item-2894" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2894">
                        <a href="https://micronaut.io/community-guidelines/">Community Guidelines</a>
                    </li>
                    <li id="menu-item-3377" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-3377">
                        <a href="https://micronaut.io/privacy-policy/">Privacy Policy</a>
                    </li>

                </ul>

                <div id="nav_menu-2" class="widget widget_nav_menu">
                    <div class="menu-links-container">
                        <ul id="menu-links" class="menu">
                            <li id="menu-item-2885" class="show-on-blog menu-item menu-item-type-custom menu-item-object-custom menu-item-2885">
                                <a target="_blank" rel="noopener" href="https://micronaut.io/feed/rss/">
                                    <i class="fas fa-rss">
                                        <span class="sr-only">RSS</span>
                                    </i>
                                </a>
                            </li>
                            <li id="menu-item-2886" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2886">
                                <a target="_blank" rel="noopener" href="https://twitter.com/micronautfw">
                                    <i class="fab fa-twitter">
                                        <span class="sr-only">Twitter</span>
                                    </i>
                                </a>
                            </li>
                            <li id="menu-item-2887" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2887">
                                <a href="mailto:info@micronaut.io">
                                    <i class="fas fa-envelope">
                                        <span class="sr-only">Mail</span>
                                    </i>
                                </a>
                            </li>
                            <li id="menu-item-2888" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2888">
                                <a target="_blank" rel="noopener" href="https://gitter.im/micronautfw/">
                                    <i class="fab fa-gitter">
                                        <span class="sr-only">Gitter</span>
                                    </i>
                                </a>
                            </li>
                            <li id="menu-item-2889" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2889">
                                <a target="_blank" rel="noopener" href="https://github.com/micronaut-projects/">
                                    <i class="fab fa-github">
                                        <span class="sr-only">GitHub</span>
                                    </i>
                                </a>
                            </li>
                            <li id="menu-item-2890" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2890">
                                <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCEWZUAC6afuExvl-V-vbRGw">
                                    <i class="fab fa-youtube">
                                        <span class="sr-only">YouTube</span>
                                    </i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="text-5" class="widget widget_text">
                    <div class="textwidget">
                        <p>
                            <small>© 2021 MICRONAUT FOUNDATION. ALL RIGHTS RESERVED</small>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>hljs.highlightAll()</script>
</footer>
</body>
</html>
